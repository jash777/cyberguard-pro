2024-09-17 12:08:48,509 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:08:48,559 - routes - INFO - Applications API request status code: 200
2024-09-17 12:09:05,899 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:09:05,955 - routes - INFO - Applications API request status code: 200
2024-09-17 12:11:57,631 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:11:57,677 - routes - INFO - Applications API request status code: 200
2024-09-17 12:12:06,556 - routes - DEBUG - Fetching users from agent
2024-09-17 12:12:06,585 - routes - INFO - Users API request status code: 200
2024-09-17 12:12:07,228 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:12:07,285 - routes - INFO - Applications API request status code: 200
2024-09-17 12:12:08,380 - routes - DEBUG - Rendering index page
2024-09-17 12:12:08,499 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:12:08,502 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 12:12:08,505 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-17 12:12:08,507 - routes - DEBUG - Managing users: GET
2024-09-17 12:12:08,514 - routes - DEBUG - Checking for selected agent in function: get_applications
2024-09-17 12:12:08,517 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:12:08,524 - routes - INFO - Successfully retrieved 129 processes
2024-09-17 12:12:08,534 - routes - INFO - Manage users API request status code: 200
2024-09-17 12:12:08,579 - routes - INFO - Successfully retrieved 1801 applications
2024-09-17 12:12:08,736 - routes - DEBUG - Managing agents: GET
2024-09-17 12:12:08,741 - routes - INFO - Fetched 3 agents
2024-09-17 12:12:20,667 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:12:20,737 - routes - INFO - Applications API request status code: 200
2024-09-17 12:36:47,819 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:36:47,843 - routes - INFO - Applications API request status code: 500
2024-09-17 12:36:48,941 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:36:48,960 - routes - INFO - Applications API request status code: 500
2024-09-17 12:36:51,469 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:36:51,510 - routes - INFO - Applications API request status code: 500
2024-09-17 12:38:44,667 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:38:44,706 - routes - INFO - Applications API request status code: 200
2024-09-17 12:40:00,612 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:40:00,644 - routes - INFO - Applications API request status code: 200
2024-09-17 12:40:01,879 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:40:01,904 - routes - INFO - Applications API request status code: 200
2024-09-17 12:40:03,792 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:40:03,817 - routes - INFO - Applications API request status code: 200
2024-09-17 12:40:28,367 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:40:28,408 - routes - INFO - Applications API request status code: 200
2024-09-17 12:40:29,545 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:40:29,568 - routes - INFO - Applications API request status code: 200
2024-09-17 12:41:44,754 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:41:44,793 - routes - INFO - Applications API request status code: 200
2024-09-17 12:41:47,034 - routes - DEBUG - Fetching applications from agent
2024-09-17 12:41:47,061 - routes - INFO - Applications API request status code: 200
2024-09-17 12:44:00,144 - routes - DEBUG - Rendering index page
2024-09-17 12:44:22,174 - routes - DEBUG - Rendering index page
2024-09-17 12:44:32,612 - routes - DEBUG - Rendering index page
2024-09-17 12:45:20,077 - routes - DEBUG - Rendering index page
2024-09-17 12:45:20,634 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:45:20,635 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 12:45:20,637 - routes - DEBUG - Managing users: GET
2024-09-17 12:45:20,639 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-17 12:45:20,679 - routes - INFO - Manage users API request status code: 200
2024-09-17 12:45:20,711 - routes - INFO - Successfully retrieved 129 processes
2024-09-17 12:45:20,882 - routes - DEBUG - Managing agents: GET
2024-09-17 12:45:20,885 - routes - INFO - Fetched 3 agents
2024-09-17 12:45:23,493 - routes - DEBUG - Checking for selected agent in function: get_services
2024-09-17 12:45:23,495 - routes - DEBUG - Fetching services from agent
2024-09-17 12:45:23,518 - routes - ERROR - Failed to retrieve services. Status code: 500
2024-09-17 12:46:28,043 - routes - DEBUG - Checking for selected agent in function: get_services
2024-09-17 12:46:28,043 - routes - DEBUG - Fetching services from agent
2024-09-17 12:46:28,071 - routes - INFO - Successfully retrieved 153 services
2024-09-17 12:46:35,684 - routes - DEBUG - Rendering index page
2024-09-17 12:46:36,198 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 12:46:36,202 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:46:36,204 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-17 12:46:36,210 - routes - DEBUG - Managing users: GET
2024-09-17 12:46:36,253 - routes - INFO - Manage users API request status code: 200
2024-09-17 12:46:36,253 - routes - INFO - Successfully retrieved 129 processes
2024-09-17 12:46:36,506 - routes - DEBUG - Managing agents: GET
2024-09-17 12:46:36,510 - routes - INFO - Fetched 3 agents
2024-09-17 12:52:47,608 - routes - DEBUG - Rendering index page
2024-09-17 12:52:48,059 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 12:52:48,060 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:52:48,062 - routes - DEBUG - Managing users: GET
2024-09-17 12:52:48,062 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-17 12:52:48,086 - routes - INFO - Successfully retrieved 129 processes
2024-09-17 12:52:48,096 - routes - INFO - Manage users API request status code: 200
2024-09-17 12:52:48,349 - routes - DEBUG - Managing agents: GET
2024-09-17 12:52:48,350 - routes - INFO - Fetched 3 agents
2024-09-17 12:52:49,813 - routes - DEBUG - Checking for selected agent in function: get_services
2024-09-17 12:52:49,814 - routes - DEBUG - Fetching services from agent
2024-09-17 12:52:49,847 - routes - INFO - Successfully retrieved 153 services
2024-09-17 12:52:52,605 - routes - DEBUG - Checking for selected agent in function: get_services
2024-09-17 12:52:52,606 - routes - DEBUG - Fetching services from agent
2024-09-17 12:52:52,645 - routes - INFO - Successfully retrieved 153 services
2024-09-17 12:53:22,163 - routes - DEBUG - Rendering index page
2024-09-17 12:53:22,600 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:53:22,605 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 12:53:22,606 - routes - DEBUG - Managing users: GET
2024-09-17 12:53:22,607 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-17 12:53:22,630 - routes - INFO - Successfully retrieved 129 processes
2024-09-17 12:53:22,637 - routes - INFO - Manage users API request status code: 200
2024-09-17 12:53:22,817 - routes - DEBUG - Managing agents: GET
2024-09-17 12:53:22,819 - routes - INFO - Fetched 3 agents
2024-09-17 12:53:22,990 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 12:53:42,304 - routes - DEBUG - Rendering index page
2024-09-17 12:53:42,747 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:53:42,750 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 12:53:42,755 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-17 12:53:42,760 - routes - DEBUG - Managing users: GET
2024-09-17 12:53:42,776 - routes - INFO - Successfully retrieved 129 processes
2024-09-17 12:53:42,787 - routes - INFO - Manage users API request status code: 200
2024-09-17 12:53:42,933 - routes - DEBUG - Managing agents: GET
2024-09-17 12:53:42,936 - routes - INFO - Fetched 3 agents
2024-09-17 12:53:43,245 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 12:53:43,358 - routes - DEBUG - Checking for selected agent in function: get_services
2024-09-17 12:53:43,359 - routes - DEBUG - Fetching services from agent
2024-09-17 12:53:43,393 - routes - INFO - Successfully retrieved 153 services
2024-09-17 12:53:53,312 - routes - DEBUG - Rendering index page
2024-09-17 12:53:53,442 - routes - DEBUG - Managing users: GET
2024-09-17 12:53:53,446 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 12:53:53,448 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-17 12:53:53,450 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:53:53,519 - routes - INFO - Successfully retrieved 129 processes
2024-09-17 12:53:53,590 - routes - INFO - Manage users API request status code: 200
2024-09-17 12:53:53,607 - routes - DEBUG - Managing agents: GET
2024-09-17 12:53:53,611 - routes - INFO - Fetched 3 agents
2024-09-17 12:53:56,637 - routes - DEBUG - Rendering index page
2024-09-17 12:53:56,759 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:53:56,760 - routes - DEBUG - Managing users: GET
2024-09-17 12:53:56,762 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 12:53:56,765 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-17 12:53:56,880 - routes - INFO - Manage users API request status code: 200
2024-09-17 12:53:56,887 - routes - INFO - Successfully retrieved 129 processes
2024-09-17 12:53:56,903 - routes - DEBUG - Managing agents: GET
2024-09-17 12:53:56,905 - routes - INFO - Fetched 3 agents
2024-09-17 12:53:58,704 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 12:53:58,839 - routes - DEBUG - Checking for selected agent in function: get_services
2024-09-17 12:53:58,839 - routes - DEBUG - Fetching services from agent
2024-09-17 12:53:58,859 - routes - INFO - Successfully retrieved 153 services
2024-09-17 12:54:09,871 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 12:54:10,010 - routes - DEBUG - Checking for selected agent in function: get_services
2024-09-17 12:54:10,010 - routes - DEBUG - Fetching services from agent
2024-09-17 12:54:10,050 - routes - INFO - Successfully retrieved 153 services
2024-09-17 12:55:52,448 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 12:55:54,839 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 12:56:00,183 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 12:56:00,307 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:56:00,422 - routes - DEBUG - Managing agents: GET
2024-09-17 12:56:00,424 - routes - INFO - Fetched 3 agents
2024-09-17 12:56:17,237 - routes - DEBUG - Rendering index page
2024-09-17 12:56:17,357 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:56:17,361 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 12:56:17,361 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-17 12:56:17,363 - routes - DEBUG - Managing users: GET
2024-09-17 12:56:17,551 - routes - DEBUG - Managing agents: GET
2024-09-17 12:56:17,554 - routes - INFO - Fetched 3 agents
2024-09-17 12:56:17,561 - routes - INFO - Successfully retrieved 129 processes
2024-09-17 12:56:17,566 - routes - INFO - Manage users API request status code: 200
2024-09-17 12:56:18,980 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 12:56:19,163 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:56:19,340 - routes - DEBUG - Managing agents: GET
2024-09-17 12:56:19,349 - routes - INFO - Fetched 3 agents
2024-09-17 12:57:34,028 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-17 12:57:34,153 - routes - INFO - Entering firewall function
2024-09-17 12:57:34,157 - routes - INFO - Fetched 3 agents from the database
2024-09-17 12:57:34,157 - routes - INFO - Selected agent ID: 8, IP: 192.168.1.7
2024-09-17 12:57:34,158 - routes - INFO - Attempting to fetch rules for agent 192.168.1.7
2024-09-17 12:57:34,192 - routes - INFO - API response status code: 200
2024-09-17 12:57:34,192 - routes - INFO - Fetched firewall rules from the agent
2024-09-17 12:57:34,193 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-17 12:57:34,364 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-17 12:57:34,364 - routes - DEBUG - Managing firewall rules: GET
2024-09-17 12:57:34,389 - routes - INFO - Successfully fetched firewall rules
2024-09-17 12:59:35,830 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-17 12:59:35,974 - routes - INFO - Entering firewall function
2024-09-17 12:59:35,977 - routes - INFO - Fetched 3 agents from the database
2024-09-17 12:59:35,977 - routes - INFO - Selected agent ID: 8, IP: 192.168.1.7
2024-09-17 12:59:35,978 - routes - INFO - Attempting to fetch rules for agent 192.168.1.7
2024-09-17 12:59:35,998 - routes - INFO - API response status code: 200
2024-09-17 12:59:35,999 - routes - INFO - Fetched firewall rules from the agent
2024-09-17 12:59:35,999 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-17 12:59:36,356 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-17 12:59:36,357 - routes - DEBUG - Managing firewall rules: GET
2024-09-17 12:59:36,367 - routes - INFO - Successfully fetched firewall rules
2024-09-17 12:59:37,471 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-17 12:59:37,472 - routes - DEBUG - Rendering processes page
2024-09-17 12:59:37,612 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:59:37,770 - routes - DEBUG - Managing agents: GET
2024-09-17 12:59:37,772 - routes - INFO - Fetched 3 agents
2024-09-17 12:59:40,372 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 12:59:40,485 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 12:59:40,596 - routes - DEBUG - Managing agents: GET
2024-09-17 12:59:40,598 - routes - INFO - Fetched 3 agents
2024-09-17 13:00:28,882 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 13:00:29,037 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 13:00:29,146 - routes - DEBUG - Managing agents: GET
2024-09-17 13:00:29,149 - routes - INFO - Fetched 3 agents
2024-09-17 13:00:30,663 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-17 13:00:30,764 - routes - INFO - Selecting agent with ID: 8
2024-09-17 13:00:30,767 - routes - INFO - Agent selected successfully: nginx (192.168.1.7)
2024-09-17 13:00:30,777 - routes - DEBUG - Checking for selected agent in function: get_services
2024-09-17 13:00:30,777 - routes - DEBUG - Fetching services from agent
2024-09-17 13:00:30,779 - routes - INFO - Fetching services for agent: 192.168.1.7
2024-09-17 13:00:30,779 - routes - ERROR - Unexpected error in get_services route for agent 192.168.1.7
Traceback (most recent call last):
  File "D:\New-Dashboard\final\routes.py", line 198, in get_services
    response, status_code = make_api_request('applications', agent_ip=selected_agent)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: make_api_request() got an unexpected keyword argument 'agent_ip'
2024-09-17 13:00:34,664 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-17 13:00:34,759 - routes - INFO - Selecting agent with ID: 6
2024-09-17 13:00:34,761 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-17 13:00:34,772 - routes - DEBUG - Checking for selected agent in function: get_services
2024-09-17 13:00:34,772 - routes - DEBUG - Fetching services from agent
2024-09-17 13:00:34,773 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-17 13:00:34,773 - routes - ERROR - Unexpected error in get_services route for agent 192.168.1.28
Traceback (most recent call last):
  File "D:\New-Dashboard\final\routes.py", line 198, in get_services
    response, status_code = make_api_request('applications', agent_ip=selected_agent)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: make_api_request() got an unexpected keyword argument 'agent_ip'
2024-09-17 13:01:52,816 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 13:01:52,942 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 13:01:53,062 - routes - DEBUG - Managing agents: GET
2024-09-17 13:01:53,064 - routes - INFO - Fetched 3 agents
2024-09-17 13:01:55,271 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-17 13:01:55,380 - routes - INFO - Selecting agent with ID: 8
2024-09-17 13:01:55,383 - routes - INFO - Agent selected successfully: nginx (192.168.1.7)
2024-09-17 13:02:02,367 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 13:02:02,473 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 13:02:02,580 - routes - DEBUG - Managing agents: GET
2024-09-17 13:02:02,583 - routes - INFO - Fetched 3 agents
2024-09-17 13:02:04,842 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-17 13:02:04,942 - routes - INFO - Selecting agent with ID: 8
2024-09-17 13:02:04,946 - routes - INFO - Agent selected successfully: nginx (192.168.1.7)
2024-09-17 13:02:06,043 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-17 13:02:06,140 - routes - INFO - Selecting agent with ID: 6
2024-09-17 13:02:06,142 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-17 13:02:07,207 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-17 13:02:07,330 - routes - INFO - Selecting agent with ID: 5
2024-09-17 13:02:07,332 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-17 13:02:08,360 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-17 13:02:08,479 - routes - INFO - Selecting agent with ID: 8
2024-09-17 13:02:08,482 - routes - INFO - Agent selected successfully: nginx (192.168.1.7)
2024-09-17 13:03:07,220 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 13:03:07,366 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 13:03:07,503 - routes - DEBUG - Managing agents: GET
2024-09-17 13:03:07,505 - routes - INFO - Fetched 3 agents
2024-09-17 13:37:06,883 - routes - DEBUG - Checking for selected agent in function: services
2024-09-17 13:37:07,130 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 13:37:07,260 - routes - DEBUG - Managing agents: GET
2024-09-17 13:37:07,262 - routes - INFO - Fetched 3 agents
2024-09-17 13:37:11,413 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-17 13:37:11,515 - routes - INFO - Entering firewall function
2024-09-17 13:37:11,518 - routes - INFO - Fetched 3 agents from the database
2024-09-17 13:37:11,519 - routes - INFO - Selected agent ID: 8, IP: 192.168.1.7
2024-09-17 13:37:11,519 - routes - INFO - Attempting to fetch rules for agent 192.168.1.7
2024-09-17 13:37:11,552 - routes - INFO - API response status code: 200
2024-09-17 13:37:11,553 - routes - INFO - Fetched firewall rules from the agent
2024-09-17 13:37:11,553 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-17 13:37:11,668 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-17 13:37:11,668 - routes - DEBUG - Managing firewall rules: GET
2024-09-17 13:37:11,693 - routes - INFO - Successfully fetched firewall rules
2024-09-17 13:37:13,338 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-17 13:37:13,446 - routes - INFO - Selecting agent with ID: 6
2024-09-17 13:37:13,449 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-17 13:37:13,458 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-17 13:37:13,459 - routes - DEBUG - Managing firewall rules: GET
2024-09-17 13:37:15,502 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-17 13:37:18,994 - routes - DEBUG - Rendering index page
2024-09-17 13:37:19,116 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 13:37:19,119 - routes - DEBUG - Managing users: GET
2024-09-17 13:37:19,122 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 13:37:19,128 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-17 13:37:19,302 - routes - DEBUG - Managing agents: GET
2024-09-17 13:37:19,307 - routes - INFO - Fetched 3 agents
2024-09-17 13:37:21,318 - routes - INFO - Manage users API request status code: 500
2024-09-17 13:37:21,333 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.28', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002599714BE00>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-17 13:37:21,347 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-17 13:37:21,348 - routes - DEBUG - Rendering processes page
2024-09-17 13:37:21,468 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 13:37:21,585 - routes - DEBUG - Managing agents: GET
2024-09-17 13:37:21,587 - routes - INFO - Fetched 3 agents
2024-09-17 13:37:24,818 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-17 13:37:24,916 - routes - INFO - Selecting agent with ID: 8
2024-09-17 13:37:24,918 - routes - INFO - Agent selected successfully: nginx (192.168.1.7)
2024-09-17 13:37:24,927 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 13:37:24,928 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-17 13:37:24,958 - routes - INFO - Successfully retrieved 129 processes
2024-09-17 13:37:25,990 - routes - DEBUG - Rendering index page
2024-09-17 13:37:26,108 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-17 13:37:26,111 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-17 13:37:26,117 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-17 13:37:26,120 - routes - DEBUG - Managing users: GET
2024-09-17 13:37:26,284 - routes - INFO - Successfully retrieved 129 processes
2024-09-17 13:37:26,297 - routes - INFO - Manage users API request status code: 200
2024-09-17 13:37:26,301 - routes - DEBUG - Managing agents: GET
2024-09-17 13:37:26,306 - routes - INFO - Fetched 3 agents
2024-09-18 09:30:20,296 - routes - DEBUG - Rendering index page
2024-09-18 09:30:20,825 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 09:30:20,827 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:30:20,828 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-18 09:30:20,829 - routes - DEBUG - Managing users: GET
2024-09-18 09:30:21,124 - routes - DEBUG - Managing agents: GET
2024-09-18 09:30:21,161 - routes - INFO - Fetched 3 agents
2024-09-18 09:30:22,886 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.7', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002520CE17EC0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 09:30:23,398 - routes - INFO - Manage users API request status code: 500
2024-09-18 09:30:24,221 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 09:30:24,336 - routes - DEBUG - Fetching agents from database
2024-09-18 09:30:24,339 - routes - INFO - Successfully fetched 3 agents
2024-09-18 09:30:24,471 - routes - DEBUG - Getting selected agent information
2024-09-18 09:30:24,471 - routes - INFO - Selected agent: nginx (192.168.1.7)
2024-09-18 09:30:27,139 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 09:30:27,240 - routes - INFO - Selecting agent with ID: 8
2024-09-18 09:30:27,245 - routes - INFO - Agent selected successfully: nginx (192.168.1.7)
2024-09-18 09:30:28,389 - routes - DEBUG - Getting selected agent information
2024-09-18 09:30:28,391 - routes - INFO - Selected agent: nginx (192.168.1.7)
2024-09-18 09:30:30,424 - routes - DEBUG - Rendering index page
2024-09-18 09:30:30,531 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:30:30,533 - routes - DEBUG - Managing users: GET
2024-09-18 09:30:30,537 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 09:30:30,540 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-18 09:30:30,658 - routes - DEBUG - Managing agents: GET
2024-09-18 09:30:30,661 - routes - INFO - Fetched 3 agents
2024-09-18 09:30:32,647 - routes - INFO - Manage users API request status code: 500
2024-09-18 09:30:32,678 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.7', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002520CE37470>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 09:30:33,014 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 09:30:33,014 - routes - DEBUG - Rendering processes page
2024-09-18 09:30:33,143 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:30:33,249 - routes - DEBUG - Managing agents: GET
2024-09-18 09:30:33,252 - routes - INFO - Fetched 3 agents
2024-09-18 09:30:36,546 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 09:30:36,649 - routes - INFO - Selecting agent with ID: 8
2024-09-18 09:30:36,653 - routes - INFO - Agent selected successfully: nginx (192.168.1.7)
2024-09-18 09:30:36,663 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 09:30:36,664 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-18 09:30:38,731 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.7', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002520CE52A50>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 09:30:47,894 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 09:30:47,997 - routes - INFO - Selecting agent with ID: 6
2024-09-18 09:30:48,000 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-18 09:30:48,011 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 09:30:48,011 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-18 09:30:50,061 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.28', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002520CE14FE0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 09:30:52,945 - routes - DEBUG - Rendering index page
2024-09-18 09:30:53,074 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:30:53,075 - routes - DEBUG - Managing users: GET
2024-09-18 09:30:53,077 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 09:30:53,084 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-18 09:30:53,222 - routes - DEBUG - Managing agents: GET
2024-09-18 09:30:53,225 - routes - INFO - Fetched 3 agents
2024-09-18 09:30:53,967 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 09:30:54,076 - routes - DEBUG - Fetching agents from database
2024-09-18 09:30:54,081 - routes - INFO - Successfully fetched 3 agents
2024-09-18 09:30:54,186 - routes - DEBUG - Getting selected agent information
2024-09-18 09:30:54,187 - routes - INFO - Selected agent: mysql-1 (192.168.1.28)
2024-09-18 09:30:55,138 - routes - INFO - Manage users API request status code: 500
2024-09-18 09:30:55,184 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.28', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002520CE36060>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 09:32:52,605 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-18 09:32:52,742 - routes - DEBUG - Checking status for agent ID: 8
2024-09-18 09:32:52,752 - routes - INFO - Updated status for agent 8 to Active
2024-09-18 09:32:55,997 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 09:32:55,997 - routes - DEBUG - Rendering processes page
2024-09-18 09:32:56,100 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:32:56,213 - routes - DEBUG - Managing agents: GET
2024-09-18 09:32:56,217 - routes - INFO - Fetched 3 agents
2024-09-18 09:32:58,444 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 09:32:58,544 - routes - INFO - Selecting agent with ID: 8
2024-09-18 09:32:58,546 - routes - INFO - Agent selected successfully: nginx (192.168.1.7)
2024-09-18 09:32:58,556 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 09:32:58,557 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-18 09:32:58,587 - routes - INFO - Successfully retrieved 124 processes
2024-09-18 09:33:03,058 - routes - DEBUG - Fetching users from agent
2024-09-18 09:33:03,096 - routes - INFO - Users API request status code: 200
2024-09-18 09:33:32,332 - routes - DEBUG - Fetching users from agent
2024-09-18 09:33:32,365 - routes - INFO - Users API request status code: 200
2024-09-18 09:33:36,006 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 09:33:36,150 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:33:36,285 - routes - DEBUG - Managing agents: GET
2024-09-18 09:33:36,289 - routes - INFO - Fetched 3 agents
2024-09-18 09:33:45,825 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 09:33:45,931 - routes - INFO - Entering firewall function
2024-09-18 09:33:45,934 - routes - INFO - Fetched 3 agents from the database
2024-09-18 09:33:45,935 - routes - INFO - Selected agent ID: 8, IP: 192.168.1.7
2024-09-18 09:33:45,935 - routes - INFO - Attempting to fetch rules for agent 192.168.1.7
2024-09-18 09:33:45,980 - routes - INFO - API response status code: 200
2024-09-18 09:33:45,980 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 09:33:45,981 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 09:33:46,173 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:33:46,175 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:33:46,198 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:33:48,934 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:33:48,935 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:33:48,965 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:35:30,602 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:35:30,602 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:35:30,627 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:35:31,788 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:35:31,789 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:35:31,818 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:35:32,066 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:35:32,067 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:35:32,097 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:35:33,598 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 09:35:33,702 - routes - INFO - Selecting agent with ID: 6
2024-09-18 09:35:33,706 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-18 09:35:33,716 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:35:33,717 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:35:35,774 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 09:35:38,707 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 09:35:38,800 - routes - INFO - Selecting agent with ID: 8
2024-09-18 09:35:38,803 - routes - INFO - Agent selected successfully: nginx (192.168.1.7)
2024-09-18 09:35:38,821 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:35:38,822 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:35:38,852 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:35:39,338 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:35:39,338 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:35:39,380 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:35:40,533 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 09:35:40,652 - routes - INFO - Entering firewall function
2024-09-18 09:35:40,655 - routes - INFO - Fetched 3 agents from the database
2024-09-18 09:35:40,655 - routes - INFO - Selected agent ID: 8, IP: 192.168.1.7
2024-09-18 09:35:40,656 - routes - INFO - Attempting to fetch rules for agent 192.168.1.7
2024-09-18 09:35:40,690 - routes - INFO - API response status code: 200
2024-09-18 09:35:40,691 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 09:35:40,691 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 09:35:40,798 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:35:40,800 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:35:40,842 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:35:42,231 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 09:35:42,367 - routes - INFO - Entering firewall function
2024-09-18 09:35:42,369 - routes - INFO - Fetched 3 agents from the database
2024-09-18 09:35:42,370 - routes - INFO - Selected agent ID: 8, IP: 192.168.1.7
2024-09-18 09:35:42,370 - routes - INFO - Attempting to fetch rules for agent 192.168.1.7
2024-09-18 09:35:42,387 - routes - INFO - API response status code: 200
2024-09-18 09:35:42,387 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 09:35:42,388 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 09:35:42,520 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:35:42,521 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:35:42,540 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:36:08,516 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:36:08,517 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:36:08,555 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:36:10,065 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:36:10,065 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:36:10,104 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:36:11,898 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 09:36:12,015 - routes - INFO - Selecting agent with ID: 6
2024-09-18 09:36:12,018 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-18 09:36:12,025 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:36:12,027 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:36:14,085 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 09:36:16,953 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 09:36:17,069 - routes - INFO - Selecting agent with ID: 8
2024-09-18 09:36:17,071 - routes - INFO - Agent selected successfully: nginx (192.168.1.7)
2024-09-18 09:36:17,080 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:36:17,081 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:36:17,109 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:36:17,865 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:36:17,865 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:36:17,901 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:36:32,704 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 09:36:32,825 - routes - INFO - Entering firewall function
2024-09-18 09:36:32,828 - routes - INFO - Fetched 3 agents from the database
2024-09-18 09:36:32,828 - routes - INFO - Selected agent ID: 8, IP: 192.168.1.7
2024-09-18 09:36:32,828 - routes - INFO - Attempting to fetch rules for agent 192.168.1.7
2024-09-18 09:36:32,850 - routes - INFO - API response status code: 200
2024-09-18 09:36:32,850 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 09:36:32,851 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 09:36:32,973 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:36:32,973 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:36:33,006 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:36:33,607 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 09:36:33,722 - routes - INFO - Entering firewall function
2024-09-18 09:36:33,725 - routes - INFO - Fetched 3 agents from the database
2024-09-18 09:36:33,725 - routes - INFO - Selected agent ID: 8, IP: 192.168.1.7
2024-09-18 09:36:33,727 - routes - INFO - Attempting to fetch rules for agent 192.168.1.7
2024-09-18 09:36:33,743 - routes - INFO - API response status code: 200
2024-09-18 09:36:33,744 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 09:36:33,744 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 09:36:33,851 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:36:33,852 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:36:33,869 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:36:35,432 - routes - DEBUG - Rendering index page
2024-09-18 09:36:35,586 - routes - DEBUG - Managing users: GET
2024-09-18 09:36:35,591 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 09:36:35,599 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:36:35,602 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-18 09:36:35,643 - routes - INFO - Manage users API request status code: 200
2024-09-18 09:36:35,721 - routes - INFO - Successfully retrieved 124 processes
2024-09-18 09:36:35,812 - routes - DEBUG - Managing agents: GET
2024-09-18 09:36:35,829 - routes - INFO - Fetched 3 agents
2024-09-18 09:36:39,579 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 09:36:39,678 - routes - DEBUG - Fetching agents from database
2024-09-18 09:36:39,681 - routes - INFO - Successfully fetched 3 agents
2024-09-18 09:36:39,784 - routes - DEBUG - Getting selected agent information
2024-09-18 09:36:39,784 - routes - INFO - Selected agent: nginx (192.168.1.7)
2024-09-18 09:36:40,543 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 09:36:40,544 - routes - DEBUG - Rendering processes page
2024-09-18 09:36:40,753 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:36:40,871 - routes - DEBUG - Managing agents: GET
2024-09-18 09:36:40,874 - routes - INFO - Fetched 3 agents
2024-09-18 09:36:42,736 - routes - DEBUG - Fetching users from agent
2024-09-18 09:36:42,777 - routes - INFO - Users API request status code: 200
2024-09-18 09:36:44,134 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 09:36:44,257 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:36:44,436 - routes - DEBUG - Managing agents: GET
2024-09-18 09:36:44,441 - routes - INFO - Fetched 3 agents
2024-09-18 09:49:26,636 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 09:49:26,885 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:49:27,009 - routes - DEBUG - Managing agents: GET
2024-09-18 09:49:27,012 - routes - INFO - Fetched 3 agents
2024-09-18 09:50:26,608 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 09:50:26,733 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:50:26,857 - routes - DEBUG - Managing agents: GET
2024-09-18 09:50:26,859 - routes - INFO - Fetched 3 agents
2024-09-18 09:50:42,918 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 09:50:43,074 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:50:43,196 - routes - DEBUG - Managing agents: GET
2024-09-18 09:50:43,198 - routes - INFO - Fetched 3 agents
2024-09-18 09:50:59,099 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 09:50:59,226 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 09:50:59,343 - routes - DEBUG - Managing agents: GET
2024-09-18 09:50:59,346 - routes - INFO - Fetched 3 agents
2024-09-18 09:53:22,824 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 09:53:22,943 - routes - INFO - Entering firewall function
2024-09-18 09:53:22,946 - routes - INFO - Fetched 3 agents from the database
2024-09-18 09:53:22,947 - routes - INFO - Selected agent ID: 8, IP: 192.168.1.7
2024-09-18 09:53:22,947 - routes - INFO - Attempting to fetch rules for agent 192.168.1.7
2024-09-18 09:53:22,980 - routes - INFO - API response status code: 200
2024-09-18 09:53:22,981 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 09:53:22,981 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 09:53:23,099 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:53:23,100 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:53:23,119 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:53:26,910 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:53:26,910 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:53:26,945 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:53:28,819 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:53:28,819 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:53:28,846 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:53:32,602 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:53:32,603 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:53:32,620 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:56:17,461 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 09:56:17,566 - routes - INFO - Entering firewall function
2024-09-18 09:56:17,570 - routes - INFO - Fetched 3 agents from the database
2024-09-18 09:56:17,571 - routes - INFO - Selected agent ID: 8, IP: 192.168.1.7
2024-09-18 09:56:17,571 - routes - INFO - Attempting to fetch rules for agent 192.168.1.7
2024-09-18 09:56:17,600 - routes - INFO - API response status code: 200
2024-09-18 09:56:17,601 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 09:56:17,601 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 09:56:17,764 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:56:17,765 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:56:17,783 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:56:20,227 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:56:20,228 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:56:20,244 - routes - INFO - Successfully fetched firewall rules
2024-09-18 09:57:08,762 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 09:57:08,763 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 09:57:08,778 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:22:23,381 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:22:23,382 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:22:23,402 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:22:26,335 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 10:22:26,475 - routes - INFO - Selecting agent with ID: 6
2024-09-18 10:22:26,477 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-18 10:22:26,488 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:22:26,488 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:22:26,508 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:22:28,615 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:22:28,616 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:22:28,653 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:22:40,198 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 10:22:40,299 - routes - INFO - Entering firewall function
2024-09-18 10:22:40,301 - routes - INFO - Fetched 3 agents from the database
2024-09-18 10:22:40,302 - routes - INFO - Selected agent ID: 6, IP: 192.168.1.28
2024-09-18 10:22:40,302 - routes - INFO - Attempting to fetch rules for agent 192.168.1.28
2024-09-18 10:22:40,334 - routes - INFO - API response status code: 200
2024-09-18 10:22:40,335 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 10:22:40,335 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 10:22:40,782 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:22:40,782 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:22:40,800 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:22:48,246 - routes - DEBUG - Rendering index page
2024-09-18 10:22:48,623 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 10:22:48,634 - routes - DEBUG - Managing users: GET
2024-09-18 10:22:48,662 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 10:22:48,803 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-18 10:22:48,822 - routes - DEBUG - Managing agents: GET
2024-09-18 10:22:48,825 - routes - INFO - Manage users API request status code: 200
2024-09-18 10:22:48,828 - routes - INFO - Fetched 3 agents
2024-09-18 10:22:48,839 - routes - INFO - Successfully retrieved 100 processes
2024-09-18 10:22:50,120 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 10:22:50,245 - routes - DEBUG - Fetching agents from database
2024-09-18 10:22:50,248 - routes - INFO - Successfully fetched 3 agents
2024-09-18 10:22:50,610 - routes - DEBUG - Getting selected agent information
2024-09-18 10:22:50,613 - routes - INFO - Selected agent: mysql-1 (192.168.1.28)
2024-09-18 10:22:52,581 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 10:22:52,674 - routes - INFO - Selecting agent with ID: 6
2024-09-18 10:22:52,677 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-18 10:22:53,993 - routes - DEBUG - Getting selected agent information
2024-09-18 10:22:53,994 - routes - INFO - Selected agent: mysql-1 (192.168.1.28)
2024-09-18 10:22:55,484 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 10:22:55,485 - routes - DEBUG - Rendering processes page
2024-09-18 10:22:55,815 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 10:22:55,924 - routes - DEBUG - Managing agents: GET
2024-09-18 10:22:55,926 - routes - INFO - Fetched 3 agents
2024-09-18 10:22:58,600 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 10:22:58,711 - routes - INFO - Selecting agent with ID: 6
2024-09-18 10:22:58,713 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-18 10:22:58,726 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 10:22:58,727 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-18 10:22:58,743 - routes - INFO - Successfully retrieved 100 processes
2024-09-18 10:23:03,207 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 10:23:03,208 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-18 10:23:03,229 - routes - INFO - Successfully retrieved 100 processes
2024-09-18 10:23:07,002 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 10:23:07,146 - routes - INFO - Selecting agent with ID: 5
2024-09-18 10:23:07,151 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 10:23:07,166 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 10:23:07,167 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 10:23:09,223 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001755105CAA0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 10:23:12,473 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 10:23:12,582 - routes - INFO - Selecting agent with ID: 8
2024-09-18 10:23:12,584 - routes - INFO - Agent selected successfully: nginx (192.168.1.7)
2024-09-18 10:23:12,596 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 10:23:12,597 - routes - INFO - Requesting processes from agent: 192.168.1.7
2024-09-18 10:23:12,609 - routes - INFO - Successfully retrieved 124 processes
2024-09-18 10:23:14,845 - routes - DEBUG - Fetching users from agent
2024-09-18 10:23:14,879 - routes - INFO - Users API request status code: 200
2024-09-18 10:23:24,435 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 10:23:24,797 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 10:23:24,923 - routes - DEBUG - Managing agents: GET
2024-09-18 10:23:24,925 - routes - INFO - Fetched 3 agents
2024-09-18 10:23:29,083 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 10:23:29,187 - routes - INFO - Entering firewall function
2024-09-18 10:23:29,190 - routes - INFO - Fetched 3 agents from the database
2024-09-18 10:23:29,191 - routes - INFO - Selected agent ID: 8, IP: 192.168.1.7
2024-09-18 10:23:29,191 - routes - INFO - Attempting to fetch rules for agent 192.168.1.7
2024-09-18 10:23:29,228 - routes - INFO - API response status code: 200
2024-09-18 10:23:29,229 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 10:23:29,230 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 10:23:29,593 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:23:29,594 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:23:29,616 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:23:32,718 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:23:32,719 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:23:32,756 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:23:34,252 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 10:23:34,348 - routes - INFO - Selecting agent with ID: 6
2024-09-18 10:23:34,351 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-18 10:23:34,360 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:23:34,361 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:23:34,391 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:30:30,942 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:30:30,943 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:30:31,008 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:30:32,636 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:30:32,637 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:30:32,672 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:30:33,129 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:30:33,129 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:30:33,169 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:30:33,347 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:30:33,347 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:30:33,386 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:30:43,455 - routes - DEBUG - Checking for selected agent in function: block_port
2024-09-18 10:30:43,456 - routes - DEBUG - Blocking port
2024-09-18 10:30:43,508 - routes - INFO - Successfully blocked port 45
2024-09-18 10:30:45,069 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:30:45,069 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:30:45,099 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:30:46,446 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:30:46,447 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:30:46,464 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:30:47,380 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:30:47,381 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:30:47,387 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:31:28,105 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:31:28,106 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:31:28,130 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:31:32,790 - routes - DEBUG - Checking for selected agent in function: block_port
2024-09-18 10:31:32,791 - routes - DEBUG - Blocking port
2024-09-18 10:31:32,818 - routes - INFO - Successfully blocked port 786
2024-09-18 10:31:34,132 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:31:34,133 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:31:34,164 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:31:35,343 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:31:35,344 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:31:35,363 - routes - INFO - Successfully fetched firewall rules
2024-09-18 10:40:09,278 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 10:40:09,280 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 10:40:09,312 - routes - INFO - Successfully fetched firewall rules
2024-09-18 13:03:33,636 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 13:03:33,960 - routes - INFO - Entering firewall function
2024-09-18 13:03:33,970 - routes - INFO - Fetched 3 agents from the database
2024-09-18 13:03:33,971 - routes - INFO - Selected agent ID: 6, IP: 192.168.1.28
2024-09-18 13:03:33,971 - routes - INFO - Attempting to fetch rules for agent 192.168.1.28
2024-09-18 13:03:36,023 - routes - INFO - API response status code: 500
2024-09-18 13:03:36,023 - routes - ERROR - Failed to fetch firewall rules. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.28', port=5000): Max retries exceeded with url: /iptables_rules (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000022F9F58F650>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 13:03:36,024 - routes - INFO - Rendering firewall template with 3 agents and rules for 0 tables
2024-09-18 13:03:36,650 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:03:36,667 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 13:03:38,714 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 13:03:42,194 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 13:03:42,288 - routes - INFO - Selecting agent with ID: 5
2024-09-18 13:03:42,294 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 13:03:42,304 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:03:42,304 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 13:03:42,345 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 13:03:44,706 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:03:44,707 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 13:03:44,752 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 13:03:46,506 - routes - DEBUG - Rendering index page
2024-09-18 13:03:46,948 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 13:03:46,950 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 13:03:46,960 - routes - DEBUG - Managing users: GET
2024-09-18 13:03:46,961 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 13:03:47,096 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 500 Server Error: INTERNAL SERVER ERROR for url: http://172.24.110.124:5000/processes'}
2024-09-18 13:03:47,141 - routes - INFO - Manage users API request status code: 500
2024-09-18 13:03:47,220 - routes - DEBUG - Managing agents: GET
2024-09-18 13:03:47,232 - routes - INFO - Fetched 3 agents
2024-09-18 13:03:48,582 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 13:03:48,998 - routes - DEBUG - Fetching agents from database
2024-09-18 13:03:49,002 - routes - INFO - Successfully fetched 3 agents
2024-09-18 13:03:49,393 - routes - DEBUG - Getting selected agent information
2024-09-18 13:03:49,394 - routes - INFO - Selected agent: ubuntu (172.24.110.124)
2024-09-18 13:03:51,497 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 13:03:51,619 - routes - INFO - Selecting agent with ID: 5
2024-09-18 13:03:51,622 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 13:03:52,838 - routes - DEBUG - Getting selected agent information
2024-09-18 13:03:52,838 - routes - INFO - Selected agent: ubuntu (172.24.110.124)
2024-09-18 13:03:53,667 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 13:03:53,668 - routes - DEBUG - Rendering processes page
2024-09-18 13:03:54,071 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 13:03:54,185 - routes - DEBUG - Managing agents: GET
2024-09-18 13:03:54,187 - routes - INFO - Fetched 3 agents
2024-09-18 13:03:57,444 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 13:03:57,624 - routes - INFO - Selecting agent with ID: 5
2024-09-18 13:03:57,628 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 13:03:57,646 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 13:03:57,647 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 13:03:57,775 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 500 Server Error: INTERNAL SERVER ERROR for url: http://172.24.110.124:5000/processes'}
2024-09-18 13:05:02,525 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 13:05:02,661 - routes - INFO - Selecting agent with ID: 5
2024-09-18 13:05:02,663 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 13:05:02,675 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 13:05:02,676 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 13:05:02,714 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 500 Server Error: INTERNAL SERVER ERROR for url: http://172.24.110.124:5000/processes'}
2024-09-18 13:11:58,642 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 13:11:58,791 - routes - INFO - Selecting agent with ID: 5
2024-09-18 13:11:58,796 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 13:11:58,809 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 13:11:58,810 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 13:11:58,859 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 500 Server Error: INTERNAL SERVER ERROR for url: http://172.24.110.124:5000/processes'}
2024-09-18 13:13:48,957 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 13:13:49,081 - routes - INFO - Selecting agent with ID: 5
2024-09-18 13:13:49,086 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 13:13:49,099 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 13:13:49,100 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 13:13:49,162 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 500 Server Error: INTERNAL SERVER ERROR for url: http://172.24.110.124:5000/processes'}
2024-09-18 13:54:06,384 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 13:54:06,506 - routes - DEBUG - Fetching agents from database
2024-09-18 13:54:06,511 - routes - INFO - Successfully fetched 3 agents
2024-09-18 13:54:07,178 - routes - DEBUG - Getting selected agent information
2024-09-18 13:54:07,179 - routes - INFO - Selected agent: ubuntu (172.24.110.124)
2024-09-18 13:54:11,167 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 13:54:11,281 - routes - INFO - Selecting agent with ID: 5
2024-09-18 13:54:11,284 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 13:54:12,363 - routes - DEBUG - Getting selected agent information
2024-09-18 13:54:12,363 - routes - INFO - Selected agent: ubuntu (172.24.110.124)
2024-09-18 13:54:14,111 - routes - DEBUG - Rendering index page
2024-09-18 13:54:14,464 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 13:54:14,467 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 13:54:14,471 - routes - DEBUG - Managing users: GET
2024-09-18 13:54:14,473 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 13:54:14,684 - routes - DEBUG - Managing agents: GET
2024-09-18 13:54:14,686 - routes - INFO - Fetched 3 agents
2024-09-18 13:54:14,698 - routes - INFO - Manage users API request status code: 500
2024-09-18 13:54:14,713 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 500 Server Error: INTERNAL SERVER ERROR for url: http://172.24.110.124:5000/processes'}
2024-09-18 13:54:15,567 - routes - DEBUG - Fetching users from agent
2024-09-18 13:54:17,065 - routes - INFO - Users API request status code: 500
2024-09-18 13:54:36,142 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 13:54:36,524 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 13:54:36,638 - routes - DEBUG - Managing agents: GET
2024-09-18 13:54:36,641 - routes - INFO - Fetched 3 agents
2024-09-18 13:54:41,021 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 13:54:41,132 - routes - INFO - Entering firewall function
2024-09-18 13:54:41,135 - routes - INFO - Fetched 3 agents from the database
2024-09-18 13:54:41,136 - routes - INFO - Selected agent ID: 5, IP: 172.24.110.124
2024-09-18 13:54:41,136 - routes - INFO - Attempting to fetch rules for agent 172.24.110.124
2024-09-18 13:54:41,173 - routes - INFO - API response status code: 500
2024-09-18 13:54:41,173 - routes - ERROR - Failed to fetch firewall rules. Status code: 500, Response: {'error': 'Error communicating with agent: 500 Server Error: INTERNAL SERVER ERROR for url: http://172.24.110.124:5000/iptables_rules'}
2024-09-18 13:54:41,174 - routes - INFO - Rendering firewall template with 3 agents and rules for 0 tables
2024-09-18 13:54:41,526 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:54:41,529 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 13:54:41,558 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 13:54:45,898 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:54:45,900 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 13:54:45,936 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 13:55:59,182 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:55:59,182 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 13:55:59,224 - routes - INFO - Successfully fetched firewall rules
2024-09-18 13:56:01,115 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:56:01,115 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 13:56:01,153 - routes - INFO - Successfully fetched firewall rules
2024-09-18 13:56:07,426 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:56:07,426 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 13:56:07,462 - routes - INFO - Successfully fetched firewall rules
2024-09-18 13:56:08,577 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 13:56:08,940 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 13:56:09,064 - routes - DEBUG - Managing agents: GET
2024-09-18 13:56:09,070 - routes - INFO - Fetched 3 agents
2024-09-18 13:56:15,672 - routes - DEBUG - Fetching users from agent
2024-09-18 13:56:15,707 - routes - INFO - Users API request status code: 200
2024-09-18 13:56:17,537 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 13:56:17,539 - routes - DEBUG - Rendering processes page
2024-09-18 13:56:17,988 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 13:56:18,106 - routes - DEBUG - Managing agents: GET
2024-09-18 13:56:18,124 - routes - INFO - Fetched 3 agents
2024-09-18 13:56:20,961 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 13:56:21,070 - routes - INFO - Selecting agent with ID: 5
2024-09-18 13:56:21,072 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 13:56:21,085 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 13:56:21,085 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 13:56:21,146 - routes - INFO - Successfully retrieved 53 processes
2024-09-18 13:56:23,336 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 13:56:23,461 - routes - INFO - Entering firewall function
2024-09-18 13:56:23,463 - routes - INFO - Fetched 3 agents from the database
2024-09-18 13:56:23,464 - routes - INFO - Selected agent ID: 5, IP: 172.24.110.124
2024-09-18 13:56:23,464 - routes - INFO - Attempting to fetch rules for agent 172.24.110.124
2024-09-18 13:56:23,496 - routes - INFO - API response status code: 200
2024-09-18 13:56:23,497 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 13:56:23,498 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 13:56:23,856 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:56:23,856 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 13:56:23,897 - routes - INFO - Successfully fetched firewall rules
2024-09-18 13:57:51,611 - routes - DEBUG - Checking for selected agent in function: block_port
2024-09-18 13:57:51,612 - routes - DEBUG - Blocking port
2024-09-18 13:57:51,647 - routes - INFO - Successfully blocked port 221
2024-09-18 13:57:52,970 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:57:52,970 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 13:57:53,008 - routes - INFO - Successfully fetched firewall rules
2024-09-18 13:58:39,119 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:58:39,120 - routes - DEBUG - Managing firewall rules: POST
2024-09-18 13:58:39,120 - routes - INFO - Applying new firewall rule: {}
2024-09-18 13:58:56,375 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:58:56,376 - routes - DEBUG - Managing firewall rules: POST
2024-09-18 13:58:56,376 - routes - INFO - Applying new firewall rule: {}
2024-09-18 13:59:38,603 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 13:59:38,605 - routes - DEBUG - Managing firewall rules: POST
2024-09-18 13:59:38,608 - routes - INFO - Applying new firewall rule: {}
2024-09-18 14:35:58,988 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 14:35:59,095 - routes - INFO - Entering firewall function
2024-09-18 14:35:59,097 - routes - INFO - Fetched 3 agents from the database
2024-09-18 14:35:59,098 - routes - INFO - Selected agent ID: 5, IP: 172.24.110.124
2024-09-18 14:35:59,098 - routes - INFO - Attempting to fetch rules for agent 172.24.110.124
2024-09-18 14:35:59,144 - routes - INFO - API response status code: 200
2024-09-18 14:35:59,144 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 14:35:59,144 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 14:35:59,409 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 14:35:59,410 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 14:35:59,432 - routes - INFO - Successfully fetched firewall rules
2024-09-18 14:36:04,452 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 14:36:04,454 - routes - DEBUG - Rendering processes page
2024-09-18 14:36:04,570 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 14:36:04,689 - routes - DEBUG - Managing agents: GET
2024-09-18 14:36:04,695 - routes - INFO - Fetched 3 agents
2024-09-18 14:36:07,105 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 14:36:07,212 - routes - INFO - Selecting agent with ID: 5
2024-09-18 14:36:07,220 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 14:36:07,231 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 14:36:07,232 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 14:36:07,271 - routes - INFO - Successfully retrieved 55 processes
2024-09-18 14:36:09,511 - routes - DEBUG - Fetching users from agent
2024-09-18 14:36:09,547 - routes - INFO - Users API request status code: 200
2024-09-18 14:36:11,353 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 14:36:11,484 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 14:36:11,616 - routes - DEBUG - Managing agents: GET
2024-09-18 14:36:11,618 - routes - INFO - Fetched 3 agents
2024-09-18 14:36:17,843 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 14:36:17,954 - routes - INFO - Entering firewall function
2024-09-18 14:36:17,958 - routes - INFO - Fetched 3 agents from the database
2024-09-18 14:36:17,958 - routes - INFO - Selected agent ID: 5, IP: 172.24.110.124
2024-09-18 14:36:17,958 - routes - INFO - Attempting to fetch rules for agent 172.24.110.124
2024-09-18 14:36:17,993 - routes - INFO - API response status code: 200
2024-09-18 14:36:17,994 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 14:36:17,994 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 14:36:18,115 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 14:36:18,115 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 14:36:18,131 - routes - INFO - Successfully fetched firewall rules
2024-09-18 14:36:22,234 - routes - DEBUG - Checking for selected agent in function: block_port
2024-09-18 14:36:22,234 - routes - DEBUG - Blocking port
2024-09-18 14:36:22,256 - routes - ERROR - Failed to block port 43. Status code: 500
2024-09-18 14:49:20,776 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 14:49:20,912 - routes - INFO - Entering firewall function
2024-09-18 14:49:20,915 - routes - INFO - Fetched 3 agents from the database
2024-09-18 14:49:20,916 - routes - INFO - Selected agent ID: 5, IP: 172.24.110.124
2024-09-18 14:49:20,916 - routes - INFO - Attempting to fetch rules for agent 172.24.110.124
2024-09-18 14:49:20,955 - routes - INFO - API response status code: 200
2024-09-18 14:49:20,956 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 14:49:20,956 - routes - INFO - Rendering firewall template with 3 agents and rules for 4 tables
2024-09-18 14:49:21,272 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 14:49:21,272 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 14:49:21,296 - routes - INFO - Successfully fetched firewall rules
2024-09-18 14:49:23,119 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 14:49:23,119 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 14:49:23,155 - routes - INFO - Successfully fetched firewall rules
2024-09-18 14:49:24,501 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 14:49:24,502 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 14:49:24,534 - routes - INFO - Successfully fetched firewall rules
2024-09-18 14:49:24,959 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 14:49:24,959 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 14:49:24,987 - routes - INFO - Successfully fetched firewall rules
2024-09-18 14:49:25,286 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 14:49:25,287 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 14:49:25,315 - routes - INFO - Successfully fetched firewall rules
2024-09-18 14:49:27,642 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 14:49:27,756 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 14:49:27,905 - routes - DEBUG - Managing agents: GET
2024-09-18 14:49:27,909 - routes - INFO - Fetched 3 agents
2024-09-18 14:49:28,962 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 14:49:29,137 - routes - DEBUG - Fetching agents from database
2024-09-18 14:49:29,152 - routes - INFO - Successfully fetched 3 agents
2024-09-18 14:49:29,364 - routes - DEBUG - Getting selected agent information
2024-09-18 14:49:29,365 - routes - INFO - Selected agent: ubuntu (172.24.110.124)
2024-09-18 14:49:29,930 - routes - DEBUG - Rendering index page
2024-09-18 14:49:30,029 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 14:49:30,032 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 14:49:30,033 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 14:49:30,035 - routes - DEBUG - Managing users: GET
2024-09-18 14:49:30,214 - routes - DEBUG - Managing agents: GET
2024-09-18 14:49:30,217 - routes - INFO - Manage users API request status code: 200
2024-09-18 14:49:30,225 - routes - INFO - Fetched 3 agents
2024-09-18 14:49:30,239 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 500 Server Error:  for url: http://172.24.110.124:5000/processes'}
2024-09-18 14:49:31,278 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 14:49:31,279 - routes - DEBUG - Rendering processes page
2024-09-18 14:49:31,406 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 14:49:31,593 - routes - DEBUG - Managing agents: GET
2024-09-18 14:49:31,608 - routes - INFO - Fetched 3 agents
2024-09-18 14:49:35,163 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 14:49:35,264 - routes - INFO - Selecting agent with ID: 5
2024-09-18 14:49:35,267 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 14:49:35,276 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 14:49:35,277 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 14:49:35,293 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 500 Server Error:  for url: http://172.24.110.124:5000/processes'}
2024-09-18 14:50:02,961 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 14:50:03,061 - routes - INFO - Selecting agent with ID: 5
2024-09-18 14:50:03,063 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 14:50:03,073 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 14:50:03,074 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 14:50:03,089 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 500 Server Error:  for url: http://172.24.110.124:5000/processes'}
2024-09-18 15:27:47,430 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 15:27:47,623 - routes - DEBUG - Fetching agents from database
2024-09-18 15:27:47,628 - routes - INFO - Successfully fetched 3 agents
2024-09-18 15:27:48,230 - routes - DEBUG - Getting selected agent information
2024-09-18 15:27:48,231 - routes - INFO - Selected agent: ubuntu (172.24.110.124)
2024-09-18 15:27:57,948 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 15:27:58,072 - routes - DEBUG - Managing agents: POST
2024-09-18 15:27:58,090 - routes - INFO - Added new agent: wallet-connect (192.168.1.15)
2024-09-18 15:27:59,674 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 15:27:59,784 - routes - DEBUG - Fetching agents from database
2024-09-18 15:27:59,787 - routes - INFO - Successfully fetched 4 agents
2024-09-18 15:27:59,913 - routes - DEBUG - Getting selected agent information
2024-09-18 15:27:59,915 - routes - INFO - Selected agent: ubuntu (172.24.110.124)
2024-09-18 15:28:03,286 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-18 15:28:03,379 - routes - DEBUG - Checking status for agent ID: 9
2024-09-18 15:28:03,390 - routes - INFO - Updated status for agent 9 to Active
2024-09-18 15:28:05,705 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 15:28:05,803 - routes - INFO - Selecting agent with ID: 9
2024-09-18 15:28:05,814 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-18 15:28:06,835 - routes - DEBUG - Getting selected agent information
2024-09-18 15:28:06,836 - routes - INFO - Selected agent: wallet-connect (192.168.1.15)
2024-09-18 15:28:09,322 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 15:28:09,323 - routes - DEBUG - Rendering processes page
2024-09-18 15:28:09,423 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 15:28:09,540 - routes - DEBUG - Managing agents: GET
2024-09-18 15:28:09,541 - routes - INFO - Fetched 4 agents
2024-09-18 15:28:12,281 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 15:28:12,375 - routes - INFO - Selecting agent with ID: 9
2024-09-18 15:28:12,378 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-18 15:28:12,387 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 15:28:12,387 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 15:28:14,460 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000233A6F313A0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 15:28:29,227 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 15:28:29,365 - routes - INFO - Selecting agent with ID: 9
2024-09-18 15:28:29,368 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-18 15:28:29,380 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 15:28:29,381 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 15:28:29,410 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 404 Client Error:  for url: http://192.168.1.15:25025/processes'}
2024-09-18 15:29:47,833 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 15:29:47,979 - routes - INFO - Selecting agent with ID: 9
2024-09-18 15:29:47,983 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-18 15:29:47,995 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 15:29:47,996 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 15:29:48,009 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 404 Client Error:  for url: http://192.168.1.15:25025/processes'}
2024-09-18 15:30:01,727 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 15:30:01,886 - routes - INFO - Selecting agent with ID: 9
2024-09-18 15:30:01,888 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-18 15:30:01,899 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 15:30:01,899 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 15:30:01,917 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 404 Client Error:  for url: http://192.168.1.15:25025/processes'}
2024-09-18 15:49:18,654 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 15:49:18,770 - routes - INFO - Selecting agent with ID: 9
2024-09-18 15:49:18,772 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-18 15:49:18,787 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 15:49:18,788 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 15:49:20,831 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.15', port=25025): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002304F5316D0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 15:49:21,603 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 15:49:21,717 - routes - DEBUG - Fetching agents from database
2024-09-18 15:49:21,721 - routes - INFO - Successfully fetched 4 agents
2024-09-18 15:49:22,179 - routes - DEBUG - Getting selected agent information
2024-09-18 15:49:22,179 - routes - INFO - Selected agent: wallet-connect (192.168.1.15)
2024-09-18 15:49:24,054 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-18 15:49:24,154 - routes - DEBUG - Checking status for agent ID: 9
2024-09-18 15:49:24,164 - routes - INFO - Updated status for agent 9 to Inactive
2024-09-18 15:49:26,062 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 15:49:26,192 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 15:49:26,332 - routes - DEBUG - Managing agents: GET
2024-09-18 15:49:26,337 - routes - INFO - Fetched 4 agents
2024-09-18 15:49:29,530 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 15:49:29,657 - routes - INFO - Entering firewall function
2024-09-18 15:49:29,659 - routes - INFO - Fetched 4 agents from the database
2024-09-18 15:49:29,659 - routes - INFO - Selected agent ID: 9, IP: 192.168.1.15
2024-09-18 15:49:29,660 - routes - INFO - Attempting to fetch rules for agent 192.168.1.15
2024-09-18 15:49:31,714 - routes - INFO - API response status code: 500
2024-09-18 15:49:31,715 - routes - ERROR - Failed to fetch firewall rules. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.15', port=25025): Max retries exceeded with url: /iptables_rules (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002304E9F5F70>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 15:49:31,716 - routes - INFO - Rendering firewall template with 4 agents and rules for 0 tables
2024-09-18 15:49:31,941 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 15:49:31,943 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 15:49:34,017 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 15:49:37,355 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 15:49:37,355 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 15:49:39,421 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 19:23:01,939 - routes - DEBUG - Rendering index page
2024-09-18 19:23:02,582 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 19:23:02,586 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 19:23:02,588 - routes - DEBUG - Managing users: GET
2024-09-18 19:23:02,590 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 19:23:02,761 - routes - DEBUG - Managing agents: GET
2024-09-18 19:23:02,764 - routes - INFO - Fetched 4 agents
2024-09-18 19:23:04,371 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 19:23:04,496 - routes - DEBUG - Fetching agents from database
2024-09-18 19:23:04,498 - routes - INFO - Successfully fetched 4 agents
2024-09-18 19:23:04,646 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.15', port=25025): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000203804341A0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 19:23:04,646 - routes - INFO - Manage users API request status code: 500
2024-09-18 19:23:04,655 - routes - DEBUG - Getting selected agent information
2024-09-18 19:23:04,656 - routes - INFO - Selected agent: wallet-connect (192.168.1.15)
2024-09-18 19:23:05,345 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 19:23:05,346 - routes - DEBUG - Rendering processes page
2024-09-18 19:23:05,469 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 19:23:05,583 - routes - DEBUG - Managing agents: GET
2024-09-18 19:23:05,586 - routes - INFO - Fetched 4 agents
2024-09-18 19:23:07,801 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 19:23:07,903 - routes - INFO - Selecting agent with ID: 5
2024-09-18 19:23:07,906 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 19:23:07,919 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 19:23:07,920 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 19:23:09,987 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=25025): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000020380435400>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 19:23:33,192 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 19:23:33,335 - routes - INFO - Selecting agent with ID: 5
2024-09-18 19:23:33,338 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 19:23:33,348 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 19:23:33,348 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 19:23:33,396 - routes - INFO - Successfully retrieved 50 processes
2024-09-18 19:23:37,613 - routes - DEBUG - Fetching users from agent
2024-09-18 19:23:37,638 - routes - INFO - Users API request status code: 200
2024-09-18 19:23:39,121 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 19:23:39,260 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 19:23:39,387 - routes - DEBUG - Managing agents: GET
2024-09-18 19:23:39,391 - routes - INFO - Fetched 4 agents
2024-09-18 19:23:47,488 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 19:23:47,587 - routes - INFO - Entering firewall function
2024-09-18 19:23:47,589 - routes - INFO - Fetched 4 agents from the database
2024-09-18 19:23:47,590 - routes - INFO - Selected agent ID: 5, IP: 172.24.110.124
2024-09-18 19:23:47,590 - routes - INFO - Attempting to fetch rules for agent 172.24.110.124
2024-09-18 19:23:47,714 - routes - INFO - API response status code: 200
2024-09-18 19:23:47,715 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 19:23:47,715 - routes - INFO - Rendering firewall template with 4 agents and rules for 4 tables
2024-09-18 19:23:47,877 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 19:23:47,880 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 19:23:47,998 - routes - INFO - Successfully fetched firewall rules
2024-09-18 19:23:49,893 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 19:23:49,893 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 19:23:49,996 - routes - INFO - Successfully fetched firewall rules
2024-09-18 19:57:53,130 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 19:57:53,268 - routes - INFO - Entering firewall function
2024-09-18 19:57:53,270 - routes - INFO - Fetched 4 agents from the database
2024-09-18 19:57:53,271 - routes - INFO - Selected agent ID: 5, IP: 172.24.110.124
2024-09-18 19:57:53,271 - routes - INFO - Attempting to fetch rules for agent 172.24.110.124
2024-09-18 19:57:58,289 - routes - INFO - API response status code: 500
2024-09-18 19:57:58,289 - routes - ERROR - Failed to fetch firewall rules. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=5005): Max retries exceeded with url: /iptables_rules (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000001E369AFE570>, 'Connection to 172.24.110.124 timed out. (connect timeout=5)'))"}
2024-09-18 19:57:58,290 - routes - INFO - Rendering firewall template with 4 agents and rules for 0 tables
2024-09-18 19:57:58,607 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 19:57:58,607 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 19:58:03,616 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 19:58:07,617 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 19:58:07,765 - routes - DEBUG - Fetching agents from database
2024-09-18 19:58:07,767 - routes - INFO - Successfully fetched 4 agents
2024-09-18 19:58:07,920 - routes - DEBUG - Getting selected agent information
2024-09-18 19:58:07,921 - routes - INFO - Selected agent: ubuntu (172.24.110.124)
2024-09-18 19:58:08,457 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 19:58:08,458 - routes - DEBUG - Rendering processes page
2024-09-18 19:58:08,593 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 19:58:08,710 - routes - DEBUG - Managing agents: GET
2024-09-18 19:58:08,713 - routes - INFO - Fetched 4 agents
2024-09-18 19:58:11,260 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 19:58:11,361 - routes - INFO - Selecting agent with ID: 5
2024-09-18 19:58:11,364 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 19:58:11,374 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 19:58:11,375 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 19:58:16,390 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=5005): Max retries exceeded with url: /processes (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000001E36AA52F30>, 'Connection to 172.24.110.124 timed out. (connect timeout=5)'))"}
2024-09-18 19:58:24,155 - routes - DEBUG - Fetching users from agent
2024-09-18 19:58:29,172 - routes - INFO - Users API request status code: 500
2024-09-18 19:59:41,704 - routes - DEBUG - Fetching users from agent
2024-09-18 19:59:46,708 - routes - INFO - Users API request status code: 500
2024-09-18 20:00:02,906 - routes - DEBUG - Fetching users from agent
2024-09-18 20:00:07,916 - routes - INFO - Users API request status code: 500
2024-09-18 20:00:09,923 - routes - DEBUG - Fetching users from agent
2024-09-18 20:00:14,937 - routes - INFO - Users API request status code: 500
2024-09-18 20:00:15,948 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 20:00:16,108 - routes - INFO - Entering firewall function
2024-09-18 20:00:16,111 - routes - INFO - Fetched 4 agents from the database
2024-09-18 20:00:16,111 - routes - INFO - Selected agent ID: 5, IP: 172.24.110.124
2024-09-18 20:00:16,112 - routes - INFO - Attempting to fetch rules for agent 172.24.110.124
2024-09-18 20:00:21,130 - routes - INFO - API response status code: 500
2024-09-18 20:00:21,131 - routes - ERROR - Failed to fetch firewall rules. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=5005): Max retries exceeded with url: /iptables_rules (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000001E3695CE6C0>, 'Connection to 172.24.110.124 timed out. (connect timeout=5)'))"}
2024-09-18 20:00:21,132 - routes - INFO - Rendering firewall template with 4 agents and rules for 0 tables
2024-09-18 20:00:21,258 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:00:21,258 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:00:26,267 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:00:36,857 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 20:00:36,961 - routes - INFO - Entering firewall function
2024-09-18 20:00:36,964 - routes - INFO - Fetched 4 agents from the database
2024-09-18 20:00:36,965 - routes - INFO - Selected agent ID: 5, IP: 172.24.110.124
2024-09-18 20:00:36,965 - routes - INFO - Attempting to fetch rules for agent 172.24.110.124
2024-09-18 20:00:41,979 - routes - INFO - API response status code: 500
2024-09-18 20:00:41,980 - routes - ERROR - Failed to fetch firewall rules. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=5005): Max retries exceeded with url: /iptables_rules (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000001E369AFFD40>, 'Connection to 172.24.110.124 timed out. (connect timeout=5)'))"}
2024-09-18 20:00:41,982 - routes - INFO - Rendering firewall template with 4 agents and rules for 0 tables
2024-09-18 20:00:42,106 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:00:42,109 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:00:47,125 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:01:13,274 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:01:13,275 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:01:18,287 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:02:39,991 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 20:02:39,992 - routes - DEBUG - Rendering processes page
2024-09-18 20:02:40,135 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 20:02:40,304 - routes - DEBUG - Managing agents: GET
2024-09-18 20:02:40,307 - routes - INFO - Fetched 4 agents
2024-09-18 20:02:43,303 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 20:02:43,401 - routes - INFO - Selecting agent with ID: 5
2024-09-18 20:02:43,403 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 20:02:43,414 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 20:02:43,414 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 20:02:48,431 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=5005): Max retries exceeded with url: /processes (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000001E36AA51730>, 'Connection to 172.24.110.124 timed out. (connect timeout=5)'))"}
2024-09-18 20:03:01,527 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 20:03:01,628 - routes - INFO - Selecting agent with ID: 5
2024-09-18 20:03:01,631 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 20:03:01,640 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 20:03:01,640 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 20:03:06,653 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=5005): Max retries exceeded with url: /processes (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000001E36A9DF890>, 'Connection to 172.24.110.124 timed out. (connect timeout=5)'))"}
2024-09-18 20:04:01,466 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 20:04:01,467 - routes - DEBUG - Rendering processes page
2024-09-18 20:04:01,595 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 20:04:01,703 - routes - DEBUG - Managing agents: GET
2024-09-18 20:04:01,706 - routes - INFO - Fetched 4 agents
2024-09-18 20:06:30,585 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 20:06:30,688 - routes - INFO - Entering firewall function
2024-09-18 20:06:30,691 - routes - INFO - Fetched 4 agents from the database
2024-09-18 20:06:30,691 - routes - INFO - Selected agent ID: 5, IP: 172.24.110.124
2024-09-18 20:06:30,692 - routes - INFO - Attempting to fetch rules for agent 172.24.110.124
2024-09-18 20:06:35,709 - routes - INFO - API response status code: 500
2024-09-18 20:06:35,710 - routes - ERROR - Failed to fetch firewall rules. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=5005): Max retries exceeded with url: /iptables_rules (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000001E36AA53200>, 'Connection to 172.24.110.124 timed out. (connect timeout=5)'))"}
2024-09-18 20:06:35,711 - routes - INFO - Rendering firewall template with 4 agents and rules for 0 tables
2024-09-18 20:06:35,820 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:06:35,821 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:06:40,838 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:06:40,846 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:06:40,847 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:06:45,856 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:08:16,971 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:08:16,971 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:08:21,983 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:11:05,972 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:11:05,972 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:11:10,989 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:11:41,521 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:11:41,523 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:11:46,535 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:11:59,480 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:11:59,481 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:12:04,489 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:12:14,494 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:12:14,495 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:12:19,502 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:12:19,511 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:12:19,511 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:12:24,521 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:13:40,747 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:13:40,748 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:13:45,759 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:14:20,031 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:14:20,032 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:14:25,048 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 20:14:34,473 - routes - DEBUG - Rendering index page
2024-09-18 20:14:34,941 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 20:14:34,943 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 20:14:34,947 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 20:14:34,951 - routes - DEBUG - Managing users: GET
2024-09-18 20:14:35,280 - routes - DEBUG - Managing agents: GET
2024-09-18 20:14:35,282 - routes - INFO - Fetched 4 agents
2024-09-18 20:14:35,724 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 20:14:35,724 - routes - DEBUG - Rendering processes page
2024-09-18 20:14:35,832 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 20:14:35,946 - routes - DEBUG - Managing agents: GET
2024-09-18 20:14:35,949 - routes - INFO - Fetched 4 agents
2024-09-18 20:14:39,759 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 20:14:39,863 - routes - INFO - Selecting agent with ID: 5
2024-09-18 20:14:39,866 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 20:14:39,966 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=5005): Max retries exceeded with url: /processes (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000025BC021EF90>, 'Connection to 172.24.110.124 timed out. (connect timeout=5)'))"}
2024-09-18 20:14:39,966 - routes - INFO - Manage users API request status code: 500
2024-09-18 20:14:39,972 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 20:14:39,973 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 20:14:44,982 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=5005): Max retries exceeded with url: /processes (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000025BC025E510>, 'Connection to 172.24.110.124 timed out. (connect timeout=5)'))"}
2024-09-18 20:15:32,963 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 20:15:33,065 - routes - INFO - Selecting agent with ID: 5
2024-09-18 20:15:33,067 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-18 20:15:33,079 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 20:15:33,080 - routes - INFO - Requesting processes from agent: 172.24.110.124
2024-09-18 20:15:38,096 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='172.24.110.124', port=5005): Max retries exceeded with url: /processes (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000025BC021DD90>, 'Connection to 172.24.110.124 timed out. (connect timeout=5)'))"}
2024-09-18 20:16:08,993 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 20:16:09,100 - routes - DEBUG - Fetching agents from database
2024-09-18 20:16:09,104 - routes - INFO - Successfully fetched 4 agents
2024-09-18 20:16:09,232 - routes - DEBUG - Getting selected agent information
2024-09-18 20:16:09,233 - routes - INFO - Selected agent: ubuntu (172.24.110.124)
2024-09-18 20:52:38,474 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 20:52:38,585 - routes - INFO - Selecting agent with ID: 6
2024-09-18 20:52:38,587 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-18 20:52:39,393 - routes - DEBUG - Getting selected agent information
2024-09-18 20:52:39,393 - routes - INFO - Selected agent: mysql-1 (192.168.1.28)
2024-09-18 20:52:40,004 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 20:52:40,004 - routes - DEBUG - Rendering processes page
2024-09-18 20:52:40,227 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 20:52:40,346 - routes - DEBUG - Managing agents: GET
2024-09-18 20:52:40,350 - routes - INFO - Fetched 4 agents
2024-09-18 20:52:42,588 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 20:52:42,688 - routes - INFO - Selecting agent with ID: 6
2024-09-18 20:52:42,691 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-18 20:52:42,701 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 20:52:42,702 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-18 20:52:44,756 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.28', port=5005): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025BC021EA20>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 20:52:53,319 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 20:52:53,426 - routes - DEBUG - Fetching agents from database
2024-09-18 20:52:53,430 - routes - INFO - Successfully fetched 4 agents
2024-09-18 20:52:53,601 - routes - DEBUG - Getting selected agent information
2024-09-18 20:52:53,602 - routes - INFO - Selected agent: mysql-1 (192.168.1.28)
2024-09-18 20:52:56,575 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 20:52:56,577 - routes - DEBUG - Rendering processes page
2024-09-18 20:52:56,679 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 20:52:56,811 - routes - DEBUG - Managing agents: GET
2024-09-18 20:52:56,813 - routes - INFO - Fetched 4 agents
2024-09-18 20:52:59,641 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 20:52:59,739 - routes - INFO - Selecting agent with ID: 9
2024-09-18 20:52:59,743 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-18 20:52:59,761 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 20:52:59,762 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 20:53:01,830 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.15', port=5005): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025BC0224920>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-18 20:53:16,780 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 20:53:16,920 - routes - INFO - Selecting agent with ID: 9
2024-09-18 20:53:16,923 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-18 20:53:16,934 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 20:53:16,935 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 20:53:16,966 - routes - INFO - Successfully retrieved 112 processes
2024-09-18 20:53:18,718 - routes - DEBUG - Fetching users from agent
2024-09-18 20:53:18,748 - routes - INFO - Users API request status code: 200
2024-09-18 20:53:21,470 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 20:53:21,584 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 20:53:21,703 - routes - DEBUG - Managing agents: GET
2024-09-18 20:53:21,706 - routes - INFO - Fetched 4 agents
2024-09-18 20:53:26,625 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 20:53:26,724 - routes - INFO - Entering firewall function
2024-09-18 20:53:26,726 - routes - INFO - Fetched 4 agents from the database
2024-09-18 20:53:26,727 - routes - INFO - Selected agent ID: 9, IP: 192.168.1.15
2024-09-18 20:53:26,727 - routes - INFO - Attempting to fetch rules for agent 192.168.1.15
2024-09-18 20:53:26,755 - routes - INFO - API response status code: 200
2024-09-18 20:53:26,756 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 20:53:26,756 - routes - INFO - Rendering firewall template with 4 agents and rules for 4 tables
2024-09-18 20:53:26,903 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 20:53:26,904 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 20:53:26,914 - routes - INFO - Successfully fetched firewall rules
2024-09-18 21:09:16,992 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 21:09:17,109 - routes - INFO - Selecting agent with ID: 9
2024-09-18 21:09:17,114 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-18 21:09:17,132 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 21:09:17,133 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 21:09:17,166 - routes - INFO - Successfully fetched firewall rules
2024-09-18 21:09:17,471 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 21:09:17,472 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 21:09:17,493 - routes - INFO - Successfully fetched firewall rules
2024-09-18 21:09:21,050 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 21:09:21,051 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 21:09:21,068 - routes - INFO - Successfully fetched firewall rules
2024-09-18 21:09:21,423 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 21:09:21,424 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 21:09:21,462 - routes - INFO - Successfully fetched firewall rules
2024-09-18 21:09:25,904 - routes - DEBUG - Rendering index page
2024-09-18 21:09:26,729 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 21:09:26,733 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 21:09:26,735 - routes - DEBUG - Managing users: GET
2024-09-18 21:09:26,735 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 21:09:26,906 - routes - INFO - Manage users API request status code: 200
2024-09-18 21:09:26,923 - routes - DEBUG - Managing agents: GET
2024-09-18 21:09:26,926 - routes - INFO - Fetched 4 agents
2024-09-18 21:09:26,938 - routes - INFO - Successfully retrieved 121 processes
2024-09-18 21:09:27,344 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 21:09:27,346 - routes - DEBUG - Rendering processes page
2024-09-18 21:09:27,531 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 21:09:27,669 - routes - DEBUG - Managing agents: GET
2024-09-18 21:09:27,671 - routes - INFO - Fetched 4 agents
2024-09-18 21:09:31,664 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 21:09:31,783 - routes - INFO - Selecting agent with ID: 9
2024-09-18 21:09:31,786 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-18 21:09:31,800 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 21:09:31,801 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 21:09:31,811 - routes - INFO - Successfully retrieved 121 processes
2024-09-18 21:09:33,273 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 21:09:33,431 - routes - INFO - Entering firewall function
2024-09-18 21:09:33,433 - routes - INFO - Fetched 4 agents from the database
2024-09-18 21:09:33,434 - routes - INFO - Selected agent ID: 9, IP: 192.168.1.15
2024-09-18 21:09:33,435 - routes - INFO - Attempting to fetch rules for agent 192.168.1.15
2024-09-18 21:09:33,470 - routes - INFO - API response status code: 200
2024-09-18 21:09:33,472 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 21:09:33,473 - routes - INFO - Rendering firewall template with 4 agents and rules for 4 tables
2024-09-18 21:09:33,600 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 21:09:33,601 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 21:09:33,638 - routes - INFO - Successfully fetched firewall rules
2024-09-18 21:09:35,768 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 21:09:35,769 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 21:09:35,798 - routes - INFO - Successfully fetched firewall rules
2024-09-18 21:13:34,506 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 21:13:34,506 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 21:13:34,543 - routes - INFO - Successfully fetched firewall rules
2024-09-18 21:13:51,568 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 21:13:51,779 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 21:13:51,888 - routes - DEBUG - Managing agents: GET
2024-09-18 21:13:51,892 - routes - INFO - Fetched 4 agents
2024-09-18 21:13:55,212 - routes - DEBUG - Fetching users from agent
2024-09-18 21:13:55,248 - routes - INFO - Users API request status code: 200
2024-09-18 21:13:56,241 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-18 21:13:56,242 - routes - DEBUG - Rendering processes page
2024-09-18 21:13:56,367 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 21:13:56,489 - routes - DEBUG - Managing agents: GET
2024-09-18 21:13:56,492 - routes - INFO - Fetched 4 agents
2024-09-18 21:14:00,067 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-18 21:14:00,171 - routes - INFO - Selecting agent with ID: 9
2024-09-18 21:14:00,173 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-18 21:14:00,186 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 21:14:00,188 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 21:14:00,238 - routes - INFO - Successfully retrieved 131 processes
2024-09-18 21:14:01,256 - routes - DEBUG - Establishing database connection for function: agents
2024-09-18 21:14:01,389 - routes - DEBUG - Fetching agents from database
2024-09-18 21:14:01,391 - routes - INFO - Successfully fetched 4 agents
2024-09-18 21:14:01,511 - routes - DEBUG - Getting selected agent information
2024-09-18 21:14:01,512 - routes - INFO - Selected agent: wallet-connect (192.168.1.15)
2024-09-18 21:14:02,174 - routes - DEBUG - Rendering index page
2024-09-18 21:14:02,313 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 21:14:02,317 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 21:14:02,353 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 21:14:02,408 - routes - DEBUG - Managing users: GET
2024-09-18 21:14:02,489 - routes - INFO - Successfully retrieved 131 processes
2024-09-18 21:14:02,502 - routes - DEBUG - Managing agents: GET
2024-09-18 21:14:02,505 - routes - INFO - Fetched 4 agents
2024-09-18 21:14:02,524 - routes - INFO - Manage users API request status code: 200
2024-09-18 21:36:42,012 - routes - DEBUG - Rendering index page
2024-09-18 21:36:42,249 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 21:36:42,252 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-18 21:36:42,253 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-18 21:36:42,254 - routes - DEBUG - Managing users: GET
2024-09-18 21:36:42,436 - routes - INFO - Successfully retrieved 126 processes
2024-09-18 21:36:42,449 - routes - INFO - Manage users API request status code: 200
2024-09-18 21:36:42,461 - routes - DEBUG - Managing agents: GET
2024-09-18 21:36:42,473 - routes - INFO - Fetched 4 agents
2024-09-18 21:36:43,969 - routes - DEBUG - Checking for selected agent in function: services
2024-09-18 21:36:44,175 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-18 21:36:44,351 - routes - DEBUG - Managing agents: GET
2024-09-18 21:36:44,356 - routes - INFO - Fetched 4 agents
2024-09-18 21:36:44,997 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-18 21:36:45,218 - routes - INFO - Entering firewall function
2024-09-18 21:36:45,221 - routes - INFO - Fetched 4 agents from the database
2024-09-18 21:36:45,222 - routes - INFO - Selected agent ID: 9, IP: 192.168.1.15
2024-09-18 21:36:45,223 - routes - INFO - Attempting to fetch rules for agent 192.168.1.15
2024-09-18 21:36:45,249 - routes - INFO - API response status code: 200
2024-09-18 21:36:45,250 - routes - INFO - Fetched firewall rules from the agent
2024-09-18 21:36:45,250 - routes - INFO - Rendering firewall template with 4 agents and rules for 4 tables
2024-09-18 21:36:45,442 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 21:36:45,443 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 21:36:45,461 - routes - INFO - Successfully fetched firewall rules
2024-09-18 21:51:17,909 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 21:51:17,912 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 21:51:19,976 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-18 21:51:19,980 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-18 21:51:19,981 - routes - DEBUG - Managing firewall rules: GET
2024-09-18 21:51:22,035 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-19 10:20:09,141 - routes - DEBUG - Rendering index page
2024-09-19 10:20:09,465 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:20:09,467 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-19 10:20:09,470 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-19 10:20:09,471 - routes - DEBUG - Managing users: GET
2024-09-19 10:20:11,533 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001FDC5067470>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-19 10:20:11,535 - routes - INFO - Manage users API request status code: 500
2024-09-19 10:20:12,293 - routes - DEBUG - Rendering index page
2024-09-19 10:20:12,392 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:20:12,395 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-19 10:20:12,396 - routes - DEBUG - Managing users: GET
2024-09-19 10:20:12,397 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-19 10:20:13,507 - routes - DEBUG - Establishing database connection for function: agents
2024-09-19 10:20:14,448 - routes - INFO - Manage users API request status code: 500
2024-09-19 10:20:14,464 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001FDC47BBD70>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-19 10:20:30,550 - routes - ERROR - Database connection error
2024-09-19 10:20:33,450 - routes - ERROR - Database connection error
2024-09-19 10:20:34,540 - routes - ERROR - Database connection error
2024-09-19 10:20:55,151 - routes - DEBUG - Rendering index page
2024-09-19 10:20:55,236 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:20:55,239 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-19 10:20:55,241 - routes - DEBUG - Managing users: GET
2024-09-19 10:20:55,243 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-19 10:20:55,355 - routes - DEBUG - Managing agents: GET
2024-09-19 10:20:55,358 - routes - INFO - Fetched 4 agents
2024-09-19 10:20:56,037 - routes - DEBUG - Rendering index page
2024-09-19 10:20:56,121 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:20:56,124 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-19 10:20:56,126 - routes - DEBUG - Managing users: GET
2024-09-19 10:20:56,127 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-19 10:20:56,238 - routes - DEBUG - Managing agents: GET
2024-09-19 10:20:56,242 - routes - INFO - Fetched 4 agents
2024-09-19 10:20:57,383 - routes - INFO - Manage users API request status code: 500
2024-09-19 10:20:57,385 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001FDC50647D0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-19 10:20:58,264 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-19 10:20:58,264 - routes - DEBUG - Rendering processes page
2024-09-19 10:20:58,272 - routes - INFO - Manage users API request status code: 500
2024-09-19 10:20:58,272 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001FDC504FC50>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-19 10:20:58,386 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:20:58,497 - routes - DEBUG - Managing agents: GET
2024-09-19 10:20:58,499 - routes - INFO - Fetched 4 agents
2024-09-19 10:21:01,945 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 10:21:02,037 - routes - INFO - Selecting agent with ID: 6
2024-09-19 10:21:02,040 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 10:21:02,051 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-19 10:21:02,051 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-19 10:21:02,068 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 401 Client Error: UNAUTHORIZED for url: http://192.168.1.28:5000/processes'}
2024-09-19 10:21:06,916 - routes - DEBUG - Fetching users from agent
2024-09-19 10:21:06,951 - routes - INFO - Users API request status code: 500
2024-09-19 10:21:58,835 - routes - DEBUG - Fetching users from agent
2024-09-19 10:21:59,132 - routes - INFO - Users API request status code: 500
2024-09-19 10:22:12,360 - routes - DEBUG - Rendering index page
2024-09-19 10:22:12,663 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:22:12,674 - routes - DEBUG - Managing users: GET
2024-09-19 10:22:12,679 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-19 10:22:12,680 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-19 10:22:12,700 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': 'Error communicating with agent: 401 Client Error: UNAUTHORIZED for url: http://192.168.1.28:5000/processes'}
2024-09-19 10:22:12,749 - routes - INFO - Manage users API request status code: 500
2024-09-19 10:22:13,158 - routes - DEBUG - Managing agents: GET
2024-09-19 10:22:13,162 - routes - INFO - Fetched 4 agents
2024-09-19 10:22:14,225 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-19 10:22:14,359 - routes - INFO - Entering firewall function
2024-09-19 10:22:14,362 - routes - INFO - Fetched 4 agents from the database
2024-09-19 10:22:14,363 - routes - INFO - Selected agent ID: 6, IP: 192.168.1.28
2024-09-19 10:22:14,363 - routes - INFO - Attempting to fetch rules for agent 192.168.1.28
2024-09-19 10:22:14,380 - routes - INFO - API response status code: 500
2024-09-19 10:22:14,380 - routes - ERROR - Failed to fetch firewall rules. Status code: 500, Response: {'error': 'Error communicating with agent: 401 Client Error: UNAUTHORIZED for url: http://192.168.1.28:5000/iptables_rules'}
2024-09-19 10:22:14,381 - routes - INFO - Rendering firewall template with 4 agents and rules for 0 tables
2024-09-19 10:22:14,833 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-19 10:22:14,834 - routes - DEBUG - Managing firewall rules: GET
2024-09-19 10:22:14,878 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-19 10:22:35,399 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-19 10:22:35,523 - routes - INFO - Entering firewall function
2024-09-19 10:22:35,525 - routes - INFO - Fetched 4 agents from the database
2024-09-19 10:22:35,526 - routes - INFO - Selected agent ID: 6, IP: 192.168.1.28
2024-09-19 10:22:35,526 - routes - INFO - Attempting to fetch rules for agent 192.168.1.28
2024-09-19 10:22:35,541 - routes - INFO - API response status code: 500
2024-09-19 10:22:35,542 - routes - ERROR - Failed to fetch firewall rules. Status code: 500, Response: {'error': 'Error communicating with agent: 401 Client Error: UNAUTHORIZED for url: http://192.168.1.28:5000/iptables_rules'}
2024-09-19 10:22:35,542 - routes - INFO - Rendering firewall template with 4 agents and rules for 0 tables
2024-09-19 10:22:35,665 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-19 10:22:35,666 - routes - DEBUG - Managing firewall rules: GET
2024-09-19 10:22:35,702 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-19 10:22:53,309 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-19 10:22:53,312 - routes - DEBUG - Managing firewall rules: GET
2024-09-19 10:22:53,329 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-19 10:24:18,825 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-19 10:24:18,826 - routes - DEBUG - Managing firewall rules: GET
2024-09-19 10:24:18,864 - routes - ERROR - Failed to fetch firewall rules. Status code: 500
2024-09-19 10:24:34,115 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-19 10:24:34,115 - routes - DEBUG - Managing firewall rules: GET
2024-09-19 10:24:34,150 - routes - INFO - Successfully fetched firewall rules
2024-09-19 10:24:48,358 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-19 10:24:48,359 - routes - DEBUG - Rendering processes page
2024-09-19 10:24:48,501 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:24:48,644 - routes - DEBUG - Managing agents: GET
2024-09-19 10:24:48,646 - routes - INFO - Fetched 4 agents
2024-09-19 10:24:51,631 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 10:24:51,745 - routes - INFO - Selecting agent with ID: 6
2024-09-19 10:24:51,747 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 10:24:51,758 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-19 10:24:51,759 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-19 10:24:51,808 - routes - INFO - Successfully retrieved 108 processes
2024-09-19 10:24:53,938 - routes - DEBUG - Fetching users from agent
2024-09-19 10:24:53,978 - routes - INFO - Users API request status code: 200
2024-09-19 10:24:55,616 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 10:24:55,769 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:24:55,926 - routes - DEBUG - Managing agents: GET
2024-09-19 10:24:55,929 - routes - INFO - Fetched 4 agents
2024-09-19 10:25:00,633 - routes - DEBUG - Rendering index page
2024-09-19 10:25:00,752 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:25:00,755 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-19 10:25:00,759 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-19 10:25:00,760 - routes - DEBUG - Managing users: GET
2024-09-19 10:25:00,902 - routes - INFO - Successfully retrieved 108 processes
2024-09-19 10:25:00,914 - routes - INFO - Manage users API request status code: 200
2024-09-19 10:25:00,915 - routes - DEBUG - Managing agents: GET
2024-09-19 10:25:00,920 - routes - INFO - Fetched 4 agents
2024-09-19 10:25:03,543 - routes - DEBUG - Establishing database connection for function: firewall
2024-09-19 10:25:03,652 - routes - INFO - Entering firewall function
2024-09-19 10:25:03,655 - routes - INFO - Fetched 4 agents from the database
2024-09-19 10:25:03,655 - routes - INFO - Selected agent ID: 6, IP: 192.168.1.28
2024-09-19 10:25:03,656 - routes - INFO - Attempting to fetch rules for agent 192.168.1.28
2024-09-19 10:25:03,674 - routes - INFO - API response status code: 200
2024-09-19 10:25:03,675 - routes - INFO - Fetched firewall rules from the agent
2024-09-19 10:25:03,675 - routes - INFO - Rendering firewall template with 4 agents and rules for 4 tables
2024-09-19 10:25:03,797 - routes - DEBUG - Checking for selected agent in function: manage_firewall_rules
2024-09-19 10:25:03,799 - routes - DEBUG - Managing firewall rules: GET
2024-09-19 10:25:03,819 - routes - INFO - Successfully fetched firewall rules
2024-09-19 10:25:16,275 - routes - DEBUG - Establishing database connection for function: agents
2024-09-19 10:25:16,379 - routes - DEBUG - Fetching agents from database
2024-09-19 10:25:16,381 - routes - INFO - Successfully fetched 4 agents
2024-09-19 10:25:16,541 - routes - DEBUG - Getting selected agent information
2024-09-19 10:25:16,541 - routes - INFO - Selected agent: mysql-1 (192.168.1.28)
2024-09-19 10:25:18,541 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 10:25:18,651 - routes - INFO - Selecting agent with ID: 9
2024-09-19 10:25:18,654 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-19 10:25:20,057 - routes - DEBUG - Getting selected agent information
2024-09-19 10:25:20,058 - routes - INFO - Selected agent: wallet-connect (192.168.1.15)
2024-09-19 10:25:23,455 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:23,554 - routes - DEBUG - Checking status for agent ID: 9
2024-09-19 10:25:23,563 - routes - INFO - Updated status for agent 9 to Inactive
2024-09-19 10:25:25,476 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:25,577 - routes - DEBUG - Checking status for agent ID: 9
2024-09-19 10:25:25,583 - routes - INFO - Updated status for agent 9 to Active
2024-09-19 10:25:27,643 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:27,735 - routes - DEBUG - Checking status for agent ID: 9
2024-09-19 10:25:27,742 - routes - INFO - Updated status for agent 9 to Active
2024-09-19 10:25:30,680 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:30,778 - routes - DEBUG - Checking status for agent ID: 8
2024-09-19 10:25:30,786 - routes - INFO - Updated status for agent 8 to Unreachable
2024-09-19 10:25:32,574 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:32,677 - routes - DEBUG - Checking status for agent ID: 8
2024-09-19 10:25:32,684 - routes - INFO - Updated status for agent 8 to Inactive
2024-09-19 10:25:34,929 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:35,032 - routes - DEBUG - Checking status for agent ID: 8
2024-09-19 10:25:35,040 - routes - INFO - Updated status for agent 8 to Inactive
2024-09-19 10:25:36,767 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:36,894 - routes - DEBUG - Checking status for agent ID: 8
2024-09-19 10:25:36,902 - routes - INFO - Updated status for agent 8 to Active
2024-09-19 10:25:39,039 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:39,138 - routes - DEBUG - Checking status for agent ID: 6
2024-09-19 10:25:39,146 - routes - INFO - Updated status for agent 6 to Unreachable
2024-09-19 10:25:41,427 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:41,524 - routes - DEBUG - Checking status for agent ID: 6
2024-09-19 10:25:41,532 - routes - INFO - Updated status for agent 6 to Inactive
2024-09-19 10:25:43,939 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:44,042 - routes - DEBUG - Checking status for agent ID: 5
2024-09-19 10:25:44,053 - routes - INFO - Updated status for agent 5 to Inactive
2024-09-19 10:25:45,803 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:45,896 - routes - DEBUG - Checking status for agent ID: 5
2024-09-19 10:25:45,903 - routes - INFO - Updated status for agent 5 to Inactive
2024-09-19 10:25:47,784 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:47,877 - routes - DEBUG - Checking status for agent ID: 5
2024-09-19 10:25:48,135 - routes - INFO - Updated status for agent 5 to Inactive
2024-09-19 10:25:50,439 - routes - DEBUG - Establishing database connection for function: check_agent_status
2024-09-19 10:25:50,538 - routes - DEBUG - Checking status for agent ID: 5
2024-09-19 10:25:50,545 - routes - INFO - Updated status for agent 5 to Unreachable
2024-09-19 10:26:12,470 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 10:26:12,714 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:26:12,837 - routes - DEBUG - Managing agents: GET
2024-09-19 10:26:12,839 - routes - INFO - Fetched 4 agents
2024-09-19 10:39:19,126 - routes - DEBUG - Rendering index page
2024-09-19 10:39:19,398 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-19 10:39:19,399 - routes - INFO - Requesting processes from agent: 192.168.1.15
2024-09-19 10:39:19,401 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:39:19,404 - routes - DEBUG - Managing users: GET
2024-09-19 10:39:19,578 - routes - DEBUG - Managing agents: GET
2024-09-19 10:39:19,582 - routes - INFO - Fetched 4 agents
2024-09-19 10:39:21,336 - routes - DEBUG - Establishing database connection for function: agents
2024-09-19 10:39:21,459 - routes - INFO - Manage users API request status code: 500
2024-09-19 10:39:21,460 - routes - ERROR - Error getting processes. Status code: 500, Response: {'error': "Error communicating with agent: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /processes (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000287E4514DD0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))"}
2024-09-19 10:39:21,474 - routes - DEBUG - Fetching agents from database
2024-09-19 10:39:21,476 - routes - INFO - Successfully fetched 4 agents
2024-09-19 10:39:21,627 - routes - DEBUG - Getting selected agent information
2024-09-19 10:39:21,633 - routes - INFO - Selected agent: wallet-connect (192.168.1.15)
2024-09-19 10:39:26,731 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 10:39:26,829 - routes - INFO - Selecting agent with ID: 9
2024-09-19 10:39:26,832 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-19 10:39:27,970 - routes - DEBUG - Getting selected agent information
2024-09-19 10:39:27,971 - routes - INFO - Selected agent: wallet-connect (192.168.1.15)
2024-09-19 10:39:29,030 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 10:39:29,183 - routes - INFO - Selecting agent with ID: 6
2024-09-19 10:39:29,186 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 10:39:30,323 - routes - DEBUG - Getting selected agent information
2024-09-19 10:39:30,324 - routes - INFO - Selected agent: mysql-1 (192.168.1.28)
2024-09-19 10:39:30,947 - routes - DEBUG - Rendering index page
2024-09-19 10:39:31,071 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 10:39:31,076 - routes - DEBUG - Checking for selected agent in function: get_processes
2024-09-19 10:39:31,078 - routes - INFO - Requesting processes from agent: 192.168.1.28
2024-09-19 10:39:31,176 - routes - DEBUG - Managing users: GET
2024-09-19 10:39:31,245 - routes - INFO - Successfully retrieved 108 processes
2024-09-19 10:39:31,265 - routes - INFO - Manage users API request status code: 200
2024-09-19 10:39:31,270 - routes - DEBUG - Managing agents: GET
2024-09-19 10:39:31,273 - routes - INFO - Fetched 4 agents
2024-09-19 11:41:01,111 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 11:41:01,344 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 11:41:01,486 - routes - DEBUG - Managing agents: GET
2024-09-19 11:41:01,496 - routes - INFO - Fetched 4 agents
2024-09-19 11:45:30,111 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 11:45:30,611 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 11:45:30,770 - routes - DEBUG - Managing agents: GET
2024-09-19 11:45:30,772 - routes - INFO - Fetched 4 agents
2024-09-19 11:46:22,303 - routes - DEBUG - Checking for selected agent in function: processes
2024-09-19 11:46:22,304 - routes - DEBUG - Rendering processes page
2024-09-19 11:46:22,497 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 11:46:22,670 - routes - DEBUG - Managing agents: GET
2024-09-19 11:46:22,683 - routes - INFO - Fetched 4 agents
2024-09-19 11:47:35,099 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 11:48:48,901 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 11:48:49,122 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 11:48:49,309 - routes - DEBUG - Managing agents: GET
2024-09-19 11:48:49,313 - routes - INFO - Fetched 4 agents
2024-09-19 11:49:16,118 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 11:49:16,622 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 11:49:16,803 - routes - DEBUG - Managing agents: GET
2024-09-19 11:49:16,807 - routes - INFO - Fetched 4 agents
2024-09-19 11:51:23,449 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 11:51:24,185 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 11:51:24,498 - routes - DEBUG - Managing agents: GET
2024-09-19 11:51:24,501 - routes - INFO - Fetched 4 agents
2024-09-19 11:51:27,455 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 11:51:27,555 - routes - INFO - Selecting agent with ID: 9
2024-09-19 11:51:27,557 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-19 11:51:27,567 - routes - DEBUG - Fetching services from agent
2024-09-19 11:51:27,567 - routes - INFO - Fetching services for agent: 192.168.1.15
2024-09-19 11:52:05,820 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 11:52:06,053 - routes - INFO - Selecting agent with ID: 9
2024-09-19 11:52:06,057 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-19 11:52:06,072 - routes - DEBUG - Fetching services from agent
2024-09-19 11:52:06,073 - routes - INFO - Fetching services for agent: 192.168.1.15
2024-09-19 11:52:08,127 - routes - ERROR - Network error in get_services route for agent 192.168.1.15
Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1091, in _send_output
    self.send(msg)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1035, in send
    self.connect()
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x000001EF03511970>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\adapters.py", line 439, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\retry.py", line 594, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /services (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EF03511970>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\routes.py", line 240, in get_services
    response = requests.get(f'http://{selected_agent}:5000/services')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\api.py", line 75, in get
    return request('get', url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\sessions.py", line 542, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\sessions.py", line 655, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\adapters.py", line 516, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /services (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EF03511970>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2024-09-19 11:52:29,344 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 11:52:29,495 - routes - INFO - Selecting agent with ID: 9
2024-09-19 11:52:29,497 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-19 11:52:29,509 - routes - DEBUG - Fetching services from agent
2024-09-19 11:52:29,510 - routes - INFO - Fetching services for agent: 192.168.1.15
2024-09-19 11:52:31,571 - routes - ERROR - Network error in get_services route for agent 192.168.1.15
Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1091, in _send_output
    self.send(msg)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1035, in send
    self.connect()
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x000001E48D10CF80>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\adapters.py", line 439, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\retry.py", line 594, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /services (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001E48D10CF80>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\routes.py", line 240, in get_services
    response = requests.get(f'http://{selected_agent}:5000/services')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\api.py", line 75, in get
    return request('get', url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\sessions.py", line 542, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\sessions.py", line 655, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\adapters.py", line 516, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /services (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001E48D10CF80>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2024-09-19 11:52:46,088 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 11:52:46,230 - routes - INFO - Selecting agent with ID: 9
2024-09-19 11:52:46,233 - routes - INFO - Agent selected successfully: wallet-connect (192.168.1.15)
2024-09-19 11:52:46,244 - routes - DEBUG - Fetching services from agent
2024-09-19 11:52:46,245 - routes - INFO - Fetching services for agent: 192.168.1.15
2024-09-19 11:52:48,302 - routes - ERROR - Network error in get_services route for agent 192.168.1.15
Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1091, in _send_output
    self.send(msg)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1035, in send
    self.connect()
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x000001E3E5113380>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\adapters.py", line 439, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\retry.py", line 594, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /services (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001E3E5113380>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\routes.py", line 240, in get_services
    response = requests.get(f'http://{selected_agent}:5000/services')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\api.py", line 75, in get
    return request('get', url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\sessions.py", line 542, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\sessions.py", line 655, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\adapters.py", line 516, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.1.15', port=5000): Max retries exceeded with url: /services (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001E3E5113380>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2024-09-19 12:19:25,063 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:19:25,586 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:19:25,779 - routes - DEBUG - Managing agents: GET
2024-09-19 12:19:25,791 - routes - INFO - Fetched 4 agents
2024-09-19 12:19:34,701 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:19:34,805 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:19:34,807 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:19:34,822 - routes - DEBUG - Fetching services from agent
2024-09-19 12:19:34,822 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:19:34,871 - routes - ERROR - Failed to retrieve services for agent 192.168.1.28. Status code: 404
2024-09-19 12:21:08,130 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:21:08,231 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:21:08,237 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:21:08,247 - routes - DEBUG - Fetching services from agent
2024-09-19 12:21:08,248 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:21:08,266 - routes - ERROR - Failed to retrieve services for agent 192.168.1.28. Status code: 404
2024-09-19 12:23:00,082 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:23:00,192 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:23:00,196 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:23:00,208 - routes - DEBUG - Fetching services from agent
2024-09-19 12:23:00,208 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:23:00,223 - routes - ERROR - Failed to retrieve services for agent 192.168.1.28. Status code: 500
2024-09-19 12:24:39,662 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:24:39,769 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:24:39,771 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:24:39,781 - routes - DEBUG - Fetching services from agent
2024-09-19 12:24:39,782 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:24:39,799 - routes - ERROR - Failed to retrieve services for agent 192.168.1.28. Status code: 500
2024-09-19 12:24:44,514 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:24:44,619 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:24:44,622 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:24:44,632 - routes - DEBUG - Fetching services from agent
2024-09-19 12:24:44,632 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:24:44,648 - routes - ERROR - Failed to retrieve services for agent 192.168.1.28. Status code: 500
2024-09-19 12:27:21,907 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:27:22,018 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:27:22,023 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:27:22,039 - routes - DEBUG - Fetching services from agent
2024-09-19 12:27:22,039 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:27:24,125 - routes - INFO - Successfully retrieved 843 services for agent 192.168.1.28
2024-09-19 12:28:47,875 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:28:47,983 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:28:47,986 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:28:47,997 - routes - DEBUG - Fetching services from agent
2024-09-19 12:28:47,999 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:28:49,621 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:28:49,716 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:28:49,718 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:28:49,908 - routes - INFO - Successfully retrieved 843 services for agent 192.168.1.28
2024-09-19 12:28:49,923 - routes - DEBUG - Fetching services from agent
2024-09-19 12:28:49,924 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:28:51,873 - routes - INFO - Successfully retrieved 843 services for agent 192.168.1.28
2024-09-19 12:28:51,892 - routes - DEBUG - Fetching services from agent
2024-09-19 12:28:51,892 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:28:52,814 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:28:53,062 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:28:53,215 - routes - DEBUG - Managing agents: GET
2024-09-19 12:28:53,229 - routes - INFO - Fetched 4 agents
2024-09-19 12:28:53,799 - routes - INFO - Successfully retrieved 843 services for agent 192.168.1.28
2024-09-19 12:28:54,967 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:28:55,076 - routes - INFO - Selecting agent with ID: 5
2024-09-19 12:28:55,079 - routes - INFO - Agent selected successfully: ubuntu (172.24.110.124)
2024-09-19 12:28:55,101 - routes - DEBUG - Fetching services from agent
2024-09-19 12:28:55,101 - routes - INFO - Fetching services for agent: 172.24.110.124
2024-09-19 12:28:57,381 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:28:57,480 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:28:57,483 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:29:10,724 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:29:10,824 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:29:10,850 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:29:15,158 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:29:15,256 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:29:15,259 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:29:16,151 - routes - ERROR - Network error in get_services route for agent 172.24.110.124
Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1336, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1382, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1091, in _send_output
    self.send(msg)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.1776.0_x64__qbz5n2kfra8p0\Lib\http\client.py", line 1035, in send
    self.connect()
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connection.py", line 179, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPConnection object at 0x000001CFB9E3B590>, 'Connection to 172.24.110.124 timed out. (connect timeout=None)')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\adapters.py", line 439, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\urllib3\util\retry.py", line 594, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='172.24.110.124', port=5000): Max retries exceeded with url: /services (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000001CFB9E3B590>, 'Connection to 172.24.110.124 timed out. (connect timeout=None)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\New-Dashboard\final\routes.py", line 240, in get_services
    response = requests.get(f'http://{selected_agent}:5000/services')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\api.py", line 75, in get
    return request('get', url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\sessions.py", line 542, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\sessions.py", line 655, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\New-Dashboard\final\alpha\Lib\site-packages\requests\adapters.py", line 504, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPConnectionPool(host='172.24.110.124', port=5000): Max retries exceeded with url: /services (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000001CFB9E3B590>, 'Connection to 172.24.110.124 timed out. (connect timeout=None)'))
2024-09-19 12:29:16,169 - routes - DEBUG - Fetching services from agent
2024-09-19 12:29:16,169 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:29:18,068 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:29:18,087 - routes - DEBUG - Fetching services from agent
2024-09-19 12:29:18,087 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:29:20,019 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:29:20,030 - routes - DEBUG - Fetching services from agent
2024-09-19 12:29:20,032 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:29:21,963 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:30:41,674 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:30:41,895 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:30:42,054 - routes - DEBUG - Managing agents: GET
2024-09-19 12:30:42,058 - routes - INFO - Fetched 4 agents
2024-09-19 12:31:40,033 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:31:40,219 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:31:40,339 - routes - DEBUG - Managing agents: GET
2024-09-19 12:31:40,341 - routes - INFO - Fetched 4 agents
2024-09-19 12:32:01,404 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:32:01,559 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:32:01,682 - routes - DEBUG - Managing agents: GET
2024-09-19 12:32:01,684 - routes - INFO - Fetched 4 agents
2024-09-19 12:32:14,441 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:32:24,461 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:32:24,644 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:32:24,792 - routes - DEBUG - Managing agents: GET
2024-09-19 12:32:24,796 - routes - INFO - Fetched 4 agents
2024-09-19 12:32:49,132 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:32:49,287 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:32:49,415 - routes - DEBUG - Managing agents: GET
2024-09-19 12:32:49,420 - routes - INFO - Fetched 4 agents
2024-09-19 12:32:55,837 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:32:55,971 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:32:56,096 - routes - DEBUG - Managing agents: GET
2024-09-19 12:32:56,098 - routes - INFO - Fetched 4 agents
2024-09-19 12:33:04,385 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:33:20,819 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:33:36,936 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:33:37,102 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:33:37,261 - routes - DEBUG - Managing agents: GET
2024-09-19 12:33:37,264 - routes - INFO - Fetched 4 agents
2024-09-19 12:33:52,897 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:33:53,077 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:33:53,269 - routes - DEBUG - Managing agents: GET
2024-09-19 12:33:53,282 - routes - INFO - Fetched 4 agents
2024-09-19 12:33:57,904 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:33:58,054 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:33:58,060 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:33:58,074 - routes - DEBUG - Fetching services from agent
2024-09-19 12:33:58,074 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:33:59,977 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:35:16,336 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:35:16,475 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:35:16,596 - routes - DEBUG - Managing agents: GET
2024-09-19 12:35:16,598 - routes - INFO - Fetched 4 agents
2024-09-19 12:35:41,278 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:35:41,425 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:35:41,572 - routes - DEBUG - Managing agents: GET
2024-09-19 12:35:41,601 - routes - INFO - Fetched 4 agents
2024-09-19 12:35:44,967 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:35:45,083 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:35:45,087 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:35:45,095 - routes - DEBUG - Fetching services from agent
2024-09-19 12:35:45,097 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:35:46,996 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:35:54,659 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:35:54,772 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:35:54,776 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:35:54,785 - routes - DEBUG - Fetching services from agent
2024-09-19 12:35:54,785 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:35:56,720 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:36:07,503 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:36:07,613 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:36:07,621 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:36:07,634 - routes - DEBUG - Fetching services from agent
2024-09-19 12:36:07,634 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:36:09,561 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:36:15,569 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:36:15,697 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:36:15,701 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:36:15,711 - routes - DEBUG - Fetching services from agent
2024-09-19 12:36:15,712 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:36:17,629 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:36:20,270 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:36:20,411 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:36:20,526 - routes - DEBUG - Managing agents: GET
2024-09-19 12:36:20,529 - routes - INFO - Fetched 4 agents
2024-09-19 12:36:24,347 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:36:24,468 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:36:24,471 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:36:24,484 - routes - DEBUG - Fetching services from agent
2024-09-19 12:36:24,485 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:36:26,393 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:36:34,383 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:36:34,554 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:36:34,743 - routes - DEBUG - Managing agents: GET
2024-09-19 12:36:34,746 - routes - INFO - Fetched 4 agents
2024-09-19 12:36:37,512 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:36:37,623 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:36:37,625 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:36:37,636 - routes - DEBUG - Fetching services from agent
2024-09-19 12:36:37,637 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:36:39,533 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:38:05,229 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:38:05,375 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:38:05,495 - routes - DEBUG - Managing agents: GET
2024-09-19 12:38:05,498 - routes - INFO - Fetched 4 agents
2024-09-19 12:39:20,134 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:39:20,335 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:39:20,471 - routes - DEBUG - Managing agents: GET
2024-09-19 12:39:20,475 - routes - INFO - Fetched 4 agents
2024-09-19 12:39:21,032 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:39:21,160 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:39:21,268 - routes - DEBUG - Managing agents: GET
2024-09-19 12:39:21,271 - routes - INFO - Fetched 4 agents
2024-09-19 12:39:23,631 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:39:23,740 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:39:23,749 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:39:23,761 - routes - DEBUG - Fetching services from agent
2024-09-19 12:39:23,761 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:39:25,673 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:40:55,251 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:40:55,386 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:40:55,534 - routes - DEBUG - Managing agents: GET
2024-09-19 12:40:55,537 - routes - INFO - Fetched 4 agents
2024-09-19 12:40:58,565 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:40:58,685 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:40:58,689 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:40:58,700 - routes - DEBUG - Fetching services from agent
2024-09-19 12:40:58,701 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:41:00,589 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:41:58,761 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:41:58,916 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:41:59,067 - routes - DEBUG - Managing agents: GET
2024-09-19 12:41:59,069 - routes - INFO - Fetched 4 agents
2024-09-19 12:42:05,484 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:42:05,615 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:42:05,622 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:42:05,637 - routes - DEBUG - Fetching services from agent
2024-09-19 12:42:05,637 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:42:07,554 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:42:33,556 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:42:33,699 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:42:33,825 - routes - DEBUG - Managing agents: GET
2024-09-19 12:42:33,829 - routes - INFO - Fetched 4 agents
2024-09-19 12:42:36,539 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:42:36,658 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:42:36,660 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:42:36,676 - routes - DEBUG - Fetching services from agent
2024-09-19 12:42:36,676 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:42:38,563 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:44:24,748 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:44:24,962 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:44:25,127 - routes - DEBUG - Managing agents: GET
2024-09-19 12:44:25,129 - routes - INFO - Fetched 4 agents
2024-09-19 12:44:48,600 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:44:48,735 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:44:48,860 - routes - DEBUG - Managing agents: GET
2024-09-19 12:44:48,863 - routes - INFO - Fetched 4 agents
2024-09-19 12:44:51,930 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:44:52,047 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:44:52,049 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:44:52,060 - routes - DEBUG - Fetching services from agent
2024-09-19 12:44:52,060 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:44:53,962 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:45:16,750 - routes - DEBUG - Checking for selected agent in function: services
2024-09-19 12:45:16,882 - routes - DEBUG - Establishing database connection for function: manage_agents
2024-09-19 12:45:17,013 - routes - DEBUG - Managing agents: GET
2024-09-19 12:45:17,018 - routes - INFO - Fetched 4 agents
2024-09-19 12:45:20,212 - routes - DEBUG - Establishing database connection for function: select_agent
2024-09-19 12:45:20,376 - routes - INFO - Selecting agent with ID: 6
2024-09-19 12:45:20,380 - routes - INFO - Agent selected successfully: mysql-1 (192.168.1.28)
2024-09-19 12:45:20,393 - routes - DEBUG - Fetching services from agent
2024-09-19 12:45:20,393 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:45:22,344 - routes - INFO - Successfully retrieved 844 services for agent 192.168.1.28
2024-09-19 12:46:59,085 - routes - DEBUG - Fetching services from agent
2024-09-19 12:46:59,086 - routes - INFO - Fetching services for agent: 192.168.1.28
2024-09-19 12:47:03,088 - routes - INFO - Successfully retrieved 857 services for agent 192.168.1.28
